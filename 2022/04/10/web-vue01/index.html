<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="VUE基础                           基础案例                           1. 初识vue       首先创建vue实例，实例有一个参数用于配置 123456789101112131415161718&lt;div id&#x3D;&quot;root&quot;&gt;	&lt;!-- &amp;#123;&amp;#123;&amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="web-vue01">
<meta property="og:url" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/index.html">
<meta property="og:site_name" content="MIRACLE">
<meta property="og:description" content="VUE基础                           基础案例                           1. 初识vue       首先创建vue实例，实例有一个参数用于配置 123456789101112131415161718&lt;div id&#x3D;&quot;root&quot;&gt;	&lt;!-- &amp;#123;&amp;#123;&amp;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86.jpg">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/watchdata.png">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/listRender.png">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/vuelifecycle.png">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/protoRELA.png">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/vueREvuecomponent.jpg">
<meta property="og:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/VUE3.png">
<meta property="article:published_time" content="2022-04-10T07:10:32.000Z">
<meta property="article:modified_time" content="2022-05-30T09:15:12.345Z">
<meta property="article:author" content="ashen">
<meta property="article:tag" content="web学习">
<meta property="article:tag" content="JS">
<meta property="article:tag" content="vscode">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://planeswalker1205.github.io/2022/04/10/web-vue01/%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86.jpg"><title>web-vue01 | MIRACLE</title><link ref="canonical" href="https://planeswalker1205.github.io/2022/04/10/web-vue01/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.1.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">Categories</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">Tags</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">MIRACLE</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">web-vue01</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2022-04-10</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2022-05-30</span></span></div></header><div class="post-body">
        <h1 id="VUE基础">
          <a href="#VUE基础" class="heading-link"><i class="fas fa-link"></i></a><a href="#VUE基础" class="headerlink" title="VUE基础"></a>VUE基础</h1>
      
        <h2 id="基础案例">
          <a href="#基础案例" class="heading-link"><i class="fas fa-link"></i></a><a href="#基础案例" class="headerlink" title="基础案例"></a><font color="green">基础案例</font></h2>
      
        <h3 id="1-初识vue">
          <a href="#1-初识vue" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-初识vue" class="headerlink" title="1. 初识vue"></a>1. 初识vue</h3>
      <p><strong>首先创建vue实例，实例有一个参数用于配置</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">	&lt;!-- &#123;&#123;&#125;&#125;写法可以看做是分隔符，是<span class="title class_">Vue</span>的模板 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//创建vue实例</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		<span class="comment">//el(element)用于指定当前Vue实例为哪个容器服务。值通常为css选择器字符</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		<span class="comment">//用于存储数据，数据供el所指定的容器去使用。值可以是一个对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">name</span>: <span class="string">&#x27;拉达冈&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p><strong>总结：</strong></p>
<ul>
<li><ol>
<li>想让vue工作。就必须创建一个vue实例，且要传入一个配置对象</li>
</ol>
</li>
<li><ol start="2">
<li>容器里的写法依然符合html规范，只不过混入一些特殊的vue语法</li>
</ol>
</li>
<li><ol start="3">
<li>容器中代码被称为【Vue模板】</li>
</ol>
</li>
<li><ol start="4">
<li>容器和vue实例一一对应，不能一对多或者多对一</li>
</ol>
</li>
<li><ol start="5">
<li>真实开发中只有一个Vue实例，并且会配合着组件一起使用</li>
</ol>
</li>
<li><ol start="6">
<li>模板<code>&#123;&#123;&#125;&#125;</code>中必须要是js表达式，且可以自动读取到data中的所有属性</li>
</ol>
<p>  js表达式和js代码(语句)</p>
<p>  表达式：一个表达式会生成一个值，可以放在任何一个需要值的地方。如：<code>a;a+b;method();x===y?&#39;a&#39;:&#39;b&#39;</code></p>
</li>
<li><ol start="7">
<li>一旦data中的数据发生改变，那么模板中用到该数据的地方也会自动更新(data会被持续监测，改变页面上的数据也会改变)</li>
</ol>
</li>
</ul>

        <h3 id="2-模板语法">
          <a href="#2-模板语法" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-模板语法" class="headerlink" title="2. 模板语法"></a>2. 模板语法</h3>
      <p><strong>1. 插值语法</strong></p>
<p><code>&#123;&#123;&#125;&#125;</code></p>
<p>功能：用于解析标签体内容，如</p><p></p><p></p>
<p><strong>2. 指令语法</strong></p>
<p>功能：用于解析标签(包括标签属性，标签体内容，绑定事件…)</p>
<p>如：<code>v-bind:</code>可简写为<code>:</code></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a :href=<span class="string">&#x27;url&#x27;</span>&gt;百度&lt;/a&gt;</span><br></pre></td></tr></table></div></figure>

<p>注：Vue中有很多的指令，且形式都是v-xxxx，此处v-bind为例子</p>
<p>2.1 <code>v-bind:</code>单向绑定：数据只能从data流向页面</p>
<p>2.2 <code>v-model:</code>双向绑定(<code>v-model:value</code>可简写为<code>v-model</code>)：数据不仅能从data流向页面，还可以从页面流向data。且双向绑定一般都应用在表单类元素上(如input、select等)。v-model默认收集的就是value的值</p>
<p><strong>3. el和data的两种写法</strong></p>
<p>el:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="attr">data</span>:&#123;</span><br><span class="line">		<span class="attr">name</span>:<span class="string">&#x27;nm&#x27;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">x.$mount(<span class="string">&#x27;#root&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<p>data:(data在vm实例中被写在了vm._data中)</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种对象式</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;.root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;拉达冈&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;https://www.baidu.com&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种函数式(必须有返回值，且不要写成箭头函数)</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;.root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;拉达冈&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>


        <h3 id="3-MVVM模型">
          <a href="#3-MVVM模型" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-MVVM模型" class="headerlink" title="3.MVVM模型"></a>3.MVVM模型</h3>
      <p>MVVM模型：</p>
<ol>
<li><p>M：模型（Model）：data中的数据</p>
</li>
<li><p>V：视图（View）：模板代码</p>
</li>
<li><p>VM：视图模型（ViewModel）:Vue实例</p>
</li>
</ol>
<p>注：</p>
<ol>
<li><p>data中所有的属性，最后都出现在了vm身上</p>
</li>
<li><p>vm身上所有的属性，及Vue原型上所有属性，在Vue模板中都可以直接使用</p>
</li>
</ol>

        <h3 id="4-数据代理">
          <a href="#4-数据代理" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-数据代理" class="headerlink" title="4. 数据代理"></a>4. 数据代理</h3>
      
        <h4 id="4-1-Object-defineProperty方法">
          <a href="#4-1-Object-defineProperty方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-Object-defineProperty方法" class="headerlink" title="4.1 Object.defineProperty方法"></a>4.1 Object.defineProperty方法</h4>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">	<span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> number = <span class="number">18</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">	<span class="comment">//value:18,</span></span><br><span class="line">	<span class="attr">enmuerable</span>:<span class="literal">true</span>, <span class="comment">//控制属性是否可以被枚举，默认false</span></span><br><span class="line">	<span class="attr">writable</span>:<span class="literal">true</span>, <span class="comment">//控制属性是否可以被修改，默认false。</span></span><br><span class="line">	<span class="attr">configurable</span>:<span class="literal">true</span>, <span class="comment">//控制属性是否可以被删除，默认false</span></span><br><span class="line">	<span class="attr">get</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;	<span class="comment">//当有人读取person的age属性时，get函数就会被调用，且返回值就是age的值。不能与value属性共存</span></span><br><span class="line">		<span class="keyword">return</span> number</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="title function_">set</span>(<span class="params">value</span>)&#123;	<span class="comment">//当有人修改person的age属性时，set函数(setter)就会被调用，且会收到修改的具体值</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//修改了number，那么get返回的值就会是修改后的number的值</span></span><br><span class="line">		number = value</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>不可以被枚举：，不参与遍历，即如果直接输出该对象的属性，不会有该方法添加的属性</p>
<p><strong><font color="red">如果一个描述符同时拥有 value 或 writable 和 get 或 set 键，则会产生一个异常</font></strong></p>
<p>get方法；在调用属性时执行：person.age</p>
<p>set方法：在修改属性值时执行：person.age &#x3D; 30</p>

        <h4 id="4-2-数据代理">
          <a href="#4-2-数据代理" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-数据代理" class="headerlink" title="4.2 数据代理"></a>4.2 数据代理</h4>
      <p>定义：通过一个对象代理对另一个对象中属性的操作(读&#x2F;写)</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">x</span>: <span class="number">100</span> &#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123; <span class="attr">y</span>: <span class="number">200</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2, <span class="string">&#x27;x&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> obj.<span class="property">x</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        obj.<span class="property">x</span> = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">obj2.<span class="property">x</span> = <span class="number">1000</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">x</span>)</span><br></pre></td></tr></table></div></figure>


        <h4 id="4-3vue的数据代理">
          <a href="#4-3vue的数据代理" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3vue的数据代理" class="headerlink" title="4.3vue的数据代理"></a>4.3vue的数据代理</h4>
      <ol>
<li><p>通过vm对象来代理data对象中属性的操作</p>
</li>
<li><p>Vue中数据代理的好处</p>
<p> 更加方便的操作data中的数据</p>
</li>
<li><p>基本原理</p>
<p> 通过Object.defineProperty()吧data对象中所有属性添加到vm上，为每一个添加到vm上的属性，都指定一个getter&#x2F;setter。在getter&#x2F;setter内部去操作(读&#x2F;写)data中对应的属性</p>
</li>
</ol>
<p><img src="/2022/04/10/web-vue01/%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86.jpg"></p>

        <h3 id="5-事件处理">
          <a href="#5-事件处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-事件处理" class="headerlink" title="5.事件处理"></a>5.事件处理</h3>
      <p><strong>点击事件：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id = <span class="string">&#x27;root&#x27;</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&#x27;cmethod&#x27;</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></div></figure>

<p>可简写为：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&#x27;cmethod(66,$event)&#x27;</span>&gt;点击&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建vue实例</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="attr">cmethod</span>: <span class="keyword">function</span>(<span class="params">num,event</span>) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&#x27;点击事件&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>可以用$event关键字传入event，不会在传参数时丢失event</p>
<p>绑定事件的时候：<code>@xxx=&quot;yyy&quot;</code> yyy可以写一些简单的语句，不过yyyy都是在vm中找的</p>
<p><strong>事件的基本使用</strong></p>
<ol>
<li><p>使用v-on:xxx 或者 @xxx绑定事件，其中xxx是事件名</p>
</li>
<li><p>事件的回调需要配置在methods对象中，最终也会在vm(vue实例)上</p>
</li>
<li><p>methods中配置的函数，不要用箭头函数，否则this不指向vm</p>
</li>
<li><p>methods中配置的函数，都是被vue所管理的函数，this的指向是vm或组件实例对象</p>
</li>
<li><p>@click&#x3D;’demo’和@click&#x3D;’demo($event)’效果一致，后者可以传参数</p>
</li>
</ol>

        <h3 id="6-事件修饰符">
          <a href="#6-事件修饰符" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-事件修饰符" class="headerlink" title="6.事件修饰符"></a>6.事件修饰符</h3>
      <ol>
<li><p>prevent：阻止默认事件</p>
</li>
<li><p>stop：阻止事件冒泡</p>
</li>
<li><p>once：事件只触发一次</p>
</li>
<li><p>capture：使用事件的捕获模式</p>
</li>
<li><p>self：只有event.target是当前操作的元素时才触发事件</p>
</li>
<li><p>passive：事件的默认行为立即执行，无需等待事件回调执行完毕</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=<span class="string">&quot;https://www.baidu.com&quot;</span> @click.<span class="property">stop</span>.<span class="property">prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;点击提示&lt;/a&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong>可以连续写多个修饰符，比如先阻止冒泡，再停止默认行为</strong></p>

        <h3 id="7-键盘事件">
          <a href="#7-键盘事件" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-键盘事件" class="headerlink" title="7.键盘事件"></a>7.键盘事件</h3>
      <ol>
<li><p>Vue中常用的按键别名</p>
<p> 回车&#x3D;&gt;enter</p>
<p> 删除&#x3D;&gt;delete(捕获删除和退格键)</p>
<p> 退出&#x3D;&gt;esc</p>
<p> 空格&#x3D;&gt;space</p>
<p> 换行&#x3D;&gt;tab</p>
<p> 上下左右&#x3D;&gt;up down left right</p>
</li>
<li><p>Vue未提供别名的按键，可以使用按键原始的Key值去绑定，但注意要转为kebab-case(短横线命名)</p>
</li>
<li><p>系统修饰键（特殊用法）：ctrl alt shift meta</p>
<p> 配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发</p>
<p> 配合keydown使用：正常触发事件</p>
</li>
<li><p>也可以使用keyCode去指定具体的按键（不推荐。可能被弃用）</p>
</li>
<li><p>Vue.config.keyCodes.自定义键名 &#x3D; 键码，可以去定制按键别名</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type = <span class="string">&#x27;text&#x27;</span> @keyup.<span class="property">delete</span>=<span class="string">&#x27;showInfo&#x27;</span>&gt;</span><br></pre></td></tr></table></div></figure>

<p>如：输入ctrl+y才执行</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type = <span class="string">&#x27;text&#x27;</span> @keyup.<span class="property">ctrl</span>.<span class="property">y</span>=<span class="string">&#x27;showInfo&#x27;</span>&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="8-计算属性（computed）">
          <a href="#8-计算属性（computed）" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-计算属性（computed）" class="headerlink" title="8.计算属性（computed）"></a>8.计算属性（computed）</h3>
      <p><strong>只要data的数据发生改变，vue就会重新解析模板</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    姓：&lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;firstName&quot;</span>&gt;&lt;br&gt; </span><br><span class="line">	名：&lt;input type=<span class="string">&quot;text&quot;</span> v-model=<span class="string">&quot;lastName&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">firstName</span>: <span class="string">&quot;张&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">lastName</span>: <span class="string">&quot;三&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">fullName</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">//当有人读取fullName时，get就会被调用，返回值就作为fullName的值.且此处的this是vm实例(vm处理过)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">/**</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">                 * get调用时机：1. 初次读取fullNames时调用，后续使用缓存  2. 所依赖的数据发生变化时调用</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">                 **/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">get</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot;-&quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">/**</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">                 * set调用时机：fullNames被修改时</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">                 **/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="title function_">set</span>(<span class="params">value</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="keyword">let</span> nameStr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">firstName</span> = nameStr[<span class="number">0</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">lastName</span> = nameStr[<span class="number">1</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(vm)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p><strong>总结：</strong></p>
<ol>
<li><p>定义：要用的属性不存在，要通过已有的属性计算得来(vue所管理的属性)</p>
</li>
<li><p>原理：底层借助了Object.defineproperty方法提供的getter和setter</p>
</li>
<li><p>get函数执行时机：1. 初次读取fullNames时调用，后续使用缓存  2. 所依赖的数据发生变化时调用</p>
</li>
<li><p>优势：与methods实现相比，内部有缓存机制(复用)，效率更高，调试方便</p>
</li>
<li><p>备注：1. 计算属性最终会出现在vm上，直接使用即可  2.如果计算属性需要修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生变化</p>
</li>
</ol>
<p><strong>计算属性如果只考虑读取不考虑修改(只有get没有set)可简写：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">	<span class="comment">//此处可以当成getter</span></span><br><span class="line">    <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&quot;-&quot;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>此处表面上是函数，但是实际上会将fullName当做属性给vm，所以模板调用时不要加括号</p>

        <h3 id="9-监视属性-watch">
          <a href="#9-监视属性-watch" class="heading-link"><i class="fas fa-link"></i></a><a href="#9-监视属性-watch" class="headerlink" title="9. 监视属性(watch)"></a>9. 监视属性(watch)</h3>
      <ol>
<li><p>当被监视的属性变化时，回调函数自动调用，进行相关操作</p>
</li>
<li><p>监视的属性必须存在，才能进行监视</p>
</li>
<li><p>监视的两种写法：new Vue时就传入watch配置；vm.$watch监视、</p>
</li>
</ol>
<p><strong>第一种</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">ishot</span>: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">ishot</span>: &#123;</span><br><span class="line">            <span class="comment">//初始化时，让handler调用一下，默认为false</span></span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//当ishot发生改变时，调用</span></span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVauue, oldVaue</span>) &#123;</span><br><span class="line">                <span class="comment">//传递两个参数--修改前的值和修改后的值</span></span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(newVauue + <span class="string">&quot;--&quot;</span> + oldVaue)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>第二种</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vm.$watch(<span class="string">&#x27;ishot&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">//初始化时，让handler调用一下，默认为false</span></span><br><span class="line">    <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//当ishot发生改变时，调用</span></span><br><span class="line">    <span class="title function_">handler</span>(<span class="params">newVauue, oldVaue</span>) &#123;</span><br><span class="line">        <span class="comment">//传递两个参数--修改前的值和修改后的值</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newVauue + <span class="string">&quot;--&quot;</span> + oldVaue)</span><br><span class="line">	</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>深度监视：</strong></p>
<ol>
<li><p>Vue中的watch默认不监测对象内部值的改变(一层)</p>
<p> <strong>原因：对象和数组(对象)的值实际上是一个地址，改变对象内部值就相当于修改对应地址里面的值，地址本身没有改变，所以无法监视到对象内部。另外如果要监视到数组内部的值，需要用到vue指定的数组的方法。详见下图</strong></p>
</li>
</ol>
<p><img src="/2022/04/10/web-vue01/watchdata.png"></p>
<ol start="2">
<li>配置deep:true可以检测对象内部值(包括数组内的对象的内部值)改变(多层)</li>
</ol>
<p>备注：</p>
<ol>
<li>Vue自身可以检测对象内部值的改变，但Vue提供的watch默认不可以，使用watch时根据数据的具体结构，决定是否采用深度监视</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">numbers</span>: &#123;</span><br><span class="line">            <span class="attr">a</span>: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">numbers</span>: &#123;</span><br><span class="line">            <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params">newVauue, oldVaue</span>) &#123;</span><br><span class="line">                <span class="comment">//传递两个参数--修改前的值和修改后的值</span></span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(newVauue.<span class="property">a</span> + <span class="string">&quot;--&quot;</span> + oldVaue.<span class="property">a</span>)</span><br><span class="line">				<span class="comment">//此处两个a的值一样，猜测实际监听的是numbers对象，对象本身的内存地址没有改变，所以找到的两个a的值是一样的</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">		<span class="comment">//如果监听numbers中的a.此处一定要添加双引号，key值本身就是字符串，平常默认省略。但是此处引了属性值，所以需要加双引号</span></span><br><span class="line">		<span class="string">&quot;numbers.a&quot;</span>:&#123;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>简写形式（如果不需要其他配置项比如deep，immediate）</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">ishot</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">numbers</span>: &#123;</span><br><span class="line">            <span class="attr">a</span>: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="title function_">ishot</span>(<span class="params">newValue, oldVaule</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue + <span class="string">&quot;---&quot;</span> + oldVaule)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>computed和watch之间的区别</strong></p>
<ol>
<li><p>computed能完成的功能，watch都可以完成</p>
</li>
<li><p>watch能完成的功能，computed不一定能完成。例如：watch可以进行异步操作</p>
</li>
</ol>
<p><strong>两个原则</strong></p>
<ol>
<li><p>所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm或组件实例对象</p>
</li>
<li><p>所有不被Vue所管理的函数(定时器的回调函数，ajax的回调函数，Promise的回调函数等)，最好写成箭头函数，这样this的指向才是vm或组件实例对象</p>
</li>
</ol>
<p><strong>如果在某个方法中为对象添加属性：$set(操作对象，要添加的属性，属性值)</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$set(todo,<span class="string">&quot;isEdit&quot;</span>,<span class="literal">true</span>)</span><br></pre></td></tr></table></div></figure>


        <h3 id="10-样式操作">
          <a href="#10-样式操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#10-样式操作" class="headerlink" title="10. 样式操作"></a>10. 样式操作</h3>
      <p><strong>9.1绑定class</strong></p>
<p>三种绑定方式</p>
<ol>
<li>字符串写法–样式类名不确定，需要动态指定</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span> :<span class="keyword">class</span>=<span class="string">&quot;mood&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstname</span>: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        <span class="attr">lastname</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">mood</span>: <span class="string">&quot;green&quot;</span>	<span class="comment">//green是在css中定义的类名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>数组写法–要绑定的样式个数不确定，名字也不确定</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span> :<span class="keyword">class</span>=<span class="string">&quot;classArr&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstname</span>: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        <span class="attr">lastname</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">classArr</span>: [<span class="string">&quot;green&quot;</span>, <span class="string">&quot;bradius&quot;</span>, <span class="string">&quot;bdcolor&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>对象写法–要绑定的样式个数确定，名字确定，但是动态决定是否存在样式</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span> :<span class="keyword">class</span>=<span class="string">&quot;classObj&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstname</span>: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        <span class="attr">lastname</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">classObj</span>: &#123;</span><br><span class="line">            <span class="string">&quot;green&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;bradius&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;bdcolor&quot;</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>9.2绑定style</strong></p>
<ol>
<li>对象形式</li>
</ol>
<p><code>:style=&quot;&#123;fontSize:xxx&#125;&quot;</code>:xxx是动态值</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span> :style=<span class="string">&quot;styleObj&quot;</span>&gt;</span><br><span class="line">    一个例子</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstname</span>: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        <span class="attr">lastname</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">styleObj</span>: &#123;</span><br><span class="line">            <span class="attr">fontSize</span>: <span class="string">&quot;20px&quot;</span>,</span><br><span class="line">            <span class="attr">color</span>: <span class="string">&quot;blue&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>2.数组形式（用的少）</p>
<p><code>:style=&quot;[a,b]&quot;</code>，a和b都是样式对象</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span> :style=<span class="string">&quot;styleArr&quot;</span>&gt;</span><br><span class="line">    一个例子</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstname</span>: <span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">        <span class="attr">lastname</span>: <span class="string">&quot;三&quot;</span>,</span><br><span class="line">        <span class="attr">styleArr</span>: [&#123;</span><br><span class="line">            <span class="attr">fontSize</span>: <span class="string">&quot;20px&quot;</span>,</span><br><span class="line">            <span class="attr">color</span>: <span class="string">&quot;blue&quot;</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">backgroundColor</span>: <span class="string">&quot;yellow&quot;</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>


        <h3 id="11-条件渲染">
          <a href="#11-条件渲染" class="heading-link"><i class="fas fa-link"></i></a><a href="#11-条件渲染" class="headerlink" title="11. 条件渲染"></a>11. 条件渲染</h3>
      <ol>
<li>v-if</li>
</ol>
<p>写法：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="keyword">if</span>=<span class="string">&#x27;表达式&#x27;</span></span><br><span class="line"></span><br><span class="line">v-<span class="keyword">else</span>-<span class="keyword">if</span>=<span class="string">&#x27;表达式</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">v-else&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>适用于：切换频率较低的场景</p>
<p>特点：不展示的DOM元素直接移除</p>
<p>注意：v-if可以喝v-else-if，v-else一起使用，但要求结构不能被打断(结构上需要连在一起)</p>
<p><strong>可以配合template使用，不会打乱页面原有结构</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template v-<span class="keyword">if</span>=<span class="string">&quot;1===1&quot;</span>&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Angular<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>React<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>v-show</li>
</ol>
<p>写法：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-show=<span class="string">&#x27;表达式&#x27;</span></span><br></pre></td></tr></table></div></figure>

<p>适用于：切换频率较高的场景</p>
<p>特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</p>
<p><strong>使用v-if时，元素可能无法获取到，使用v-show一定可以获取到</strong></p>

        <h3 id="12-列表渲染">
          <a href="#12-列表渲染" class="heading-link"><i class="fas fa-link"></i></a><a href="#12-列表渲染" class="headerlink" title="12.列表渲染"></a>12.列表渲染</h3>
      <p>v-for指令</p>
<ol>
<li><p>用于展示列表数据</p>
</li>
<li><p>语法：</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-<span class="keyword">for</span>=<span class="string">&quot;(item,index) in xxx&quot;</span> :key=<span class="string">&quot;yyy&quot;</span></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>可遍历：数组，对象，字符串，指定次数</li>
</ol>
<p><strong>关于key：</strong></p>
<p><img src="/2022/04/10/web-vue01/listRender.png"></p>

        <h3 id="13-列表过滤-amp-排序">
          <a href="#13-列表过滤-amp-排序" class="heading-link"><i class="fas fa-link"></i></a><a href="#13-列表过滤-amp-排序" class="headerlink" title="13.列表过滤&amp;排序"></a>13.列表过滤&amp;排序</h3>
      <p>conputed实现过滤：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入搜索&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,idx) in filData&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">keyWord</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">personArr</span>: [&#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;马冬梅&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;周冬雨&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">19</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;周杰伦&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;温兆伦&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">21</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;005&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;温冬周&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">22</span></span><br><span class="line">        &#125;],</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">computed</span>: &#123;</span><br><span class="line">        <span class="title function_">filData</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">personArr</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">f</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> f.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>watch实现过滤</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;输入搜索&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;keyWord&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(p,idx) in filperson&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;p.id&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">keyWord</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">personArr</span>: [&#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;001&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;马冬梅&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;002&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;周冬雨&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">19</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;003&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;周杰伦&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;004&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;温兆伦&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">21</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="string">&#x27;005&#x27;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;温冬周&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">22</span></span><br><span class="line">        &#125;],</span><br><span class="line">        <span class="attr">filperson</span>: []</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">watch</span>: &#123;</span><br><span class="line">        <span class="attr">keyWord</span>: &#123;</span><br><span class="line">            <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">filperson</span> = <span class="variable language_">this</span>.<span class="property">personArr</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">p</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> p.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="variable language_">this</span>.<span class="property">keyWord</span>) !== -<span class="number">1</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>



        <h3 id="14-表单数据收集">
          <a href="#14-表单数据收集" class="heading-link"><i class="fas fa-link"></i></a><a href="#14-表单数据收集" class="headerlink" title="14. 表单数据收集"></a>14. 表单数据收集</h3>
      <p>收集表单数据：</p>
<p>若：<code>&lt;input type=&quot;text&quot; v-model=&quot;account&quot;&gt;</code>,则v-model收集的就是value值，用户输入的就是value值</p>
<p>若：<code>&lt;input type=&quot;radio&quot;&gt;</code>，则v-model收集的就是value值，且要给标签配置value值</p>
<p>若：<code>&lt;input type=&quot;checkbox&quot;&gt;</code></p>
<ol>
<li><p>没有配置input的value属性，那么收集的就是checked(是否勾选，true或者false)</p>
</li>
<li><p>配置input的value属性：(1)v-model的初始值是非数组，那么收集的就是checked；(2)v-mode的初始值是数组，那么收集的就是value组成的数组</p>
</li>
</ol>
<p><strong>v-mode的三个修饰符</strong></p>
<ol>
<li>lazy：失去焦点再收集数据</li>
</ol>
<p>number：输入字符串转为有效的数字，搭配<code>input type=&quot;number&quot;</code>使用</p>
<p>trim：输入首尾空格过滤</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    &lt;form @submit.prevent=&quot;demo&quot;&gt;</span><br><span class="line">        &lt;label for=&quot;acc&quot;&gt;賬號：&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; id=&quot;acc&quot; v-model=&quot;account&quot;&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;label for=&quot;pwd&quot;&gt;密碼：&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;password&quot; id=&quot;pwd&quot; v-model=&quot;password&quot;&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;label&gt;性別：&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;male&quot; v-model=&quot;sex&quot; value=&quot;male&quot;&gt;&lt;label for=&quot;male&quot;&gt;男&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;female&quot; v-model=&quot;sex&quot; value=&quot;female&quot;&gt;&lt;label for=&quot;female&quot;&gt;女&lt;/label&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;label&gt;愛好：&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; id=&quot;study&quot; v-model=&quot;hobby&quot; value=&quot;study&quot;&gt;&lt;label for=&quot;study&quot;&gt;學習&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; id=&quot;game&quot; v-model=&quot;hobby&quot; value=&quot;game&quot;&gt;&lt;label for=&quot;game&quot;&gt;打游戲&lt;/label&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; name=&quot;hobby&quot; id=&quot;eat&quot; v-model=&quot;hobby&quot; value=&quot;eat&quot;&gt;&lt;label for=&quot;eat&quot;&gt;吃飯&lt;/label&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;label for=&quot;school&quot;&gt;所屬校區：&lt;/label&gt;</span><br><span class="line">        &lt;select name=&quot;shcool&quot; id=&quot;school&quot; v-model=&quot;school&quot;&gt;</span><br><span class="line">            &lt;option value=&quot;beijing&quot;&gt;北京&lt;/option&gt;</span><br><span class="line">            &lt;option value=&quot;shenzhen&quot;&gt;深圳&lt;/option&gt;</span><br><span class="line">            &lt;option value=&quot;shanghai&quot;&gt;上海&lt;/option&gt;</span><br><span class="line">        &lt;/select&gt;</span><br><span class="line">        &lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;label for=&quot;others&quot;&gt;其他信息：&lt;/label&gt;</span><br><span class="line">        &lt;textarea name=&quot;&quot; id=&quot;others&quot; v-model=&quot;others&quot;&gt;&lt;/textarea&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; id=&quot;agree&quot; v-model=&quot;agree&quot;&gt;&lt;label for=&quot;agree&quot;&gt;閲讀並接受&lt;a href=&quot;www.baidu.com&quot;&gt;《用戶協議》&lt;/a&gt;&lt;/label&gt;&lt;button&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false;</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            account: &#x27;&#x27;,</span><br><span class="line">            password: &#x27;&#x27;,</span><br><span class="line">            sex: &#x27;&#x27;,</span><br><span class="line">            hobby: [],</span><br><span class="line">            school: &#x27;&#x27;,</span><br><span class="line">            others: &#x27;&#x27;,</span><br><span class="line">            agree: &#x27;&#x27;</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            demo() &#123;</span><br><span class="line">                console.log(JSON.stringify(this._data))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="15-过滤器">
          <a href="#15-过滤器" class="heading-link"><i class="fas fa-link"></i></a><a href="#15-过滤器" class="headerlink" title="15. 过滤器"></a>15. 过滤器</h3>
      <p><strong>对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）</strong></p>
<p><strong>语法：</strong></p>
<ol>
<li><p>注册过滤器：<code>Vue.filter(name,callback)</code>或者<code>new Vue&#123;filters:&#123;&#125;&#125;</code></p>
</li>
<li><p>使用过滤器：<code>&#123;&#123;xxx | 过滤器名&#125;&#125;</code>或者<code>v-bind:属性=&quot;xxx | 过滤器名&quot;</code></p>
</li>
</ol>
<p>模板语法：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 可串联，后一个过滤器的参数是前一个过滤器返回的值 --&gt;</span></span><br><span class="line">&#123;&#123;time | timeFormater(&#x27;YYYY年MM月DD日 HH时mm分ss秒&#x27;) | mySlice&#125;&#125;</span><br></pre></td></tr></table></div></figure>
<p><strong>过滤器也可以接收额外参数，多个过滤器也可以串联；并没有改变原本的数据，是产生新的对应的数据</strong></p>
<p>第一个参数是要处理的数据，第二个参数是过滤器名称，过滤器中可传参，第一个参数固定为管道符前的值。</p>
<p>局部过滤器(只能这一个vm实例使用)：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">time</span>: <span class="number">1650190373778</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">filters</span>: &#123;</span><br><span class="line">        <span class="title function_">timeFormater</span>(<span class="params">value, str = <span class="string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">dayjs</span>(value).<span class="title function_">format</span>(str)</span><br><span class="line">        &#125;,</span><br><span class="line">		 <span class="title function_">mySlice</span>(<span class="params">value</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>全局过滤器：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>,<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>,<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>


        <h3 id="16-其他内置指令">
          <a href="#16-其他内置指令" class="heading-link"><i class="fas fa-link"></i></a><a href="#16-其他内置指令" class="headerlink" title="16. 其他内置指令"></a>16. 其他内置指令</h3>
      <p><code>v-text</code></p>
<ol>
<li><p>作用：向其所在节点中渲染文本内容</p>
</li>
<li><p>与插值语法的区别：v-text会替换掉节点中的(原本)内容，不会</p>
</li>
</ol>
<p><code>v-html</code></p>
<ol>
<li><p>作用：向指定节点中渲染包含html结构的内容</p>
</li>
<li><p>与插值语法得到区别：</p>
</li>
</ol>
<p>v-html会替换掉节点中所有的内容。则不会</p>
<p>v-html可以识别html结构</p>
<p><font color="red">存在安全性问题，容易导致xss的攻击。一定要在可信的内容上使用v-html，永远不要在用户提交的内容上</font></p>
<p><code>v-cloak</code></p>
<p>没有值</p>
<ol>
<li><p>本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删掉v-cloak属性</p>
</li>
<li><p>使用css配合v-cloak可以解决网速慢时页面展示出的问题</p>
</li>
</ol>
<p><code>v-once</code></p>
<ol>
<li><p>v-once所在节点在初次动态渲染后，就视为静态内容了</p>
</li>
<li><p>以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能</p>
</li>
</ol>
<p><code>v-pre</code></p>
<ol>
<li><p>跳过其所在节点的编译过程</p>
</li>
<li><p>可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译</p>
</li>
</ol>

        <h3 id="17-自定义指令">
          <a href="#17-自定义指令" class="heading-link"><i class="fas fa-link"></i></a><a href="#17-自定义指令" class="headerlink" title="17. 自定义指令"></a>17. 自定义指令</h3>
      <p>示例</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>当前的n值是：<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>放大十倍后的n值是：<span class="tag">&lt;<span class="name">span</span> <span class="attr">v-big</span>=<span class="string">&quot;n&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-fbind</span>=<span class="string">&quot;n&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;n++&quot;</span>&gt;</span>点我+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//全局指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind1&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">//指令与元素成功绑定时(一上来)</span></span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">        element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//指令所在元素被插入页面时</span></span><br><span class="line">    <span class="title function_">inserted</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">        element.<span class="title function_">focus</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//指令所在的模板被重新解析时</span></span><br><span class="line">    <span class="title function_">update</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">        element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//局部自定义指令</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&#x27;#root&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">n</span>: <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">directives</span>: &#123;</span><br><span class="line">        <span class="comment">//《简写：一个函数》big函数何时会被调用。1.指令与元素成功绑定时  2.指令所在的模板被重新解析时</span></span><br><span class="line">        <span class="title function_">big</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">            <span class="comment">//此处的this是window</span></span><br><span class="line">            element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//《正常写：一个对象》此处的this是window</span></span><br><span class="line">        <span class="attr">fbind</span>: &#123;</span><br><span class="line">            <span class="comment">//指令与元素成功绑定时(一上来)</span></span><br><span class="line">            <span class="title function_">bind</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">                element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//指令所在元素被插入页面时</span></span><br><span class="line">            <span class="title function_">inserted</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">                element.<span class="title function_">focus</span>()</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//指令所在的模板被重新解析时</span></span><br><span class="line">            <span class="title function_">update</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">                element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>总结：</strong></p>
<p>一：</p>
<p>局部指令：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="attr">directives</span>:&#123;指令名：配置对象&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	directives&#123;指令名：回调函数&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>函数中有两个参数，element和binding。第一个参数为指令所在模板的元素，第二个参数可用binding.value获取指令的值</strong></p>
<p>全局指令；</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(指令名：配置对象)  或者  <span class="title class_">Vue</span>.<span class="title function_">directive</span>(指令名,回调函数)</span><br></pre></td></tr></table></div></figure>
<p>二：</p>
<p>配置对象中常用的3个回调：</p>
<ol>
<li><p>.bind：指令与元素成功绑定时调用</p>
</li>
<li><p>.inserted：指令所在元素被插入页面时调用</p>
</li>
<li><p>.update：指令所在模板结构被重新解析时调用</p>
</li>
</ol>
<p>三：</p>
<ol>
<li><p>指令定义时不加v-，使用时需要加</p>
</li>
<li><p>指令如果是多个单词，要是用kebab-case的命名方式，不要使用cameCase命名。尽量不要用大写单词</p>
</li>
</ol>

        <h2 id="生命周期">
          <a href="#生命周期" class="heading-link"><i class="fas fa-link"></i></a><a href="#生命周期" class="headerlink" title="生命周期"></a><font color="green">生命周期</font></h2>
      
        <h3 id="1-mounted">
          <a href="#1-mounted" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-mounted" class="headerlink" title="1.mounted"></a>1.mounted</h3>
      <p>Vue完成模板的解析并把初始的真实DOM元素放入页面后（挂载完毕）调用mounted。也就是第一次完成模板解析后调用，后续的模板解析叫做更新，不会调用</p>
<p>生命周期：</p>
<ol>
<li><p>又名：生命周期回调函数、生命周期函数、生命周期钩子</p>
</li>
<li><p>Vue在关键时刻帮我们调用的一些特殊名称的函数</p>
</li>
<li><p>生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的</p>
</li>
<li><p>生命周期函数中的this指向是vm或组件实例函数</p>
</li>
</ol>

        <h3 id="2-常用的生命周期钩子">
          <a href="#2-常用的生命周期钩子" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-常用的生命周期钩子" class="headerlink" title="2. 常用的生命周期钩子"></a>2. 常用的生命周期钩子</h3>
      <ol>
<li><p>mounted：发送ajax请求，启动定时器，绑定自定义事件，订阅消息等【初始化操作】</p>
</li>
<li><p>beforeDestroy：清除定时器，解绑自定义事件，取消订阅消息等【收尾工作】</p>
</li>
</ol>
<p>关于销毁Vue实例</p>
<ol>
<li><p>销毁后借助Vue开发者工具看不到任何信息</p>
</li>
<li><p>销毁后自定义事件会失效，但原生DOM事件依然有效</p>
</li>
<li><p>一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了，而是直接走向销毁</p>
</li>
</ol>
<p><img src="/2022/04/10/web-vue01/vuelifecycle.png"></p>
<p><strong>有无template属性区别：有template：template中的内容会整个替换掉原html中的元素，包括根节点。且template中根节点只能有一个</strong></p>

        <h1 id="组件化编程">
          <a href="#组件化编程" class="heading-link"><i class="fas fa-link"></i></a><a href="#组件化编程" class="headerlink" title="组件化编程"></a>组件化编程</h1>
      
        <h2 id="理解组件">
          <a href="#理解组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#理解组件" class="headerlink" title="理解组件"></a><font color="green">理解组件</font></h2>
      <p>组件的定义：实现应用中局部功能代码和资源的集合</p>
<p><strong>单文件组件：一个文件中只包含有一个组件</strong></p>
<p><strong>非单文件组件：一个文件中包含有n个组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;root&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">school</span>&gt;</span><span class="tag">&lt;/<span class="name">school</span>&gt;</span></span></span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">student</span>&gt;</span><span class="tag">&lt;/<span class="name">student</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    Vue.config.productionTip = false</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    //创建组件</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    const school = Vue.extend(&#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        template: `</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：</span><span class="template-variable">&#123;&#123;<span class="name">schoolName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校地址：</span><span class="template-variable">&#123;&#123;<span class="name">address</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        data() &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            return &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">                schoolName: &#x27;雷亚卢卡利亚&#x27;,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">                address: &#x27;利耶尼亚&#x27;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    const student = Vue.extend(&#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        template: `</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生姓名：</span><span class="template-variable">&#123;&#123;<span class="name">studentName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学生年龄：</span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        data() &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            return &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">                studentName: &#x27;拓普斯&#x27;,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">                age: 30</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    const hello = Vue.extend(&#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>你好,</span><span class="template-variable">&#123;&#123;<span class="name">helloname</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        data() &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            return &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">                helloname: &#x27;张三&#x27;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    //注册组件(全局注册，要注册在所使用的el之前。如果注册的全局组件和局部组件重名，以后一个定义的为准</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    Vue.component(&#x27;hello&#x27;, hello)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    Vue.component(&#x27;school&#x27;, school)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    //注册组件(局部注册)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    new Vue(&#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        el: &#x27;#root&#x27;,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        components: &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            school,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">            student</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        &#125;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;)</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p><strong>总结：</strong></p>
<p>Vue中使用组件的三大步骤</p>
<ol>
<li><p>定义组件（创建组件）</p>
<p> 使用Vue.extend(options)创建，其中options和new Vue(options)时传入的哪个options几乎一样，但区别如下：</p>
<p> (1)不用写el属性，因为最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器</p>
<p> (2)data必须写成函数。避免组件被复用时，数据存在引用关系。</p>
<p> (3)使用template配置组件结构 </p>
</li>
<li><p>注册组件</p>
<p> (1)局部注册：靠new Vue时传入components选项</p>
<p> (2)全局注册：靠Vue.component(‘组件名’,组件)</p>
</li>
<li><p>使用组件</p>
<p> 编写组件标签：<code>&lt;school&gt;&lt;/school&gt;</code></p>
</li>
</ol>
<p><strong>组件命名注意点</strong></p>
<ol>
<li>关于组件名：</li>
</ol>
<p>由一个单词构成时:</p>
<p>(首字母小写):school</p>
<p>(首字母大写)：School</p>
<p>多个单词构成时：</p>
<p>(kebab-case命名)：my-school</p>
<p>(CameCase命名)：MySchool（需要Vue脚手架支持）</p>
<p>其他：</p>
<p>组件名尽可能回避HTML中已有的元素名称，如：h2，H2都不可以；可以使用name配置项指定组件在开发者工具中呈现的名字（不影响使用）</p>
<ol start="2">
<li>关于组件标签</li>
</ol>
<p><school></school></p>
<school>

<p>备注：不用使用脚手架时，<school>会导致后续组件不能渲染</school></p>
<ol start="3">
<li>简写方式：</li>
</ol>
<p><code>const school = Vue.extend(options)</code>可简写为<code>const school = options</code></p>

        <h2 id="VueComponent构造函数">
          <a href="#VueComponent构造函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#VueComponent构造函数" class="headerlink" title="VueComponent构造函数"></a><font color="green">VueComponent构造函数</font></h2>
      <ol>
<li><p>一个组件–school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，而是Vue.extend生成的。</p>
</li>
<li><p>我们只需要写对应标签<school></school>，Vue解析时会帮我们创建school组件的实例对象。即Vue帮我们执行的：new VueComponent(options)。</p>
</li>
<li><p>特别注意：每次调用Vue.extend，返回得到都是一个全新的VueComponent！</p>
</li>
<li><p>关于this的指向：</p>
</li>
</ol>
<p><strong>(1) 组件配置中：</strong></p>
<p>data函数，methods中的函数，watch中的函数，computed中的函数，它们的this均是【VueComponent实例对象】。因为组件本质是一个名为VueComponent的构造函数，写标签时，Vue解析时会自动执行new VueComponent</p>
<p><strong>(2) new Vue(options)配置中：</strong></p>
<p>data函数，methods中的函数，watch中的函数，computed中的函数，它们的this均是【Vue实例对象】</p>
<ol start="5">
<li>VueComponent的实例对象，也可称之为组件实例对象(vc)</li>
</ol>

        <h3 id="1-重要的内置關係：">
          <a href="#1-重要的内置關係：" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-重要的内置關係：" class="headerlink" title="1. 重要的内置關係："></a>1. 重要的内置關係：</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">VueComponent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></div></figure>

<p>此处VueComponent和Vue都是函数对象。不是实例</p>
<p>即：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vc.<span class="property">__proto__</span>.<span class="property">__proto__</span> === <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></div></figure>

<p>此处vc是VueComponent实例对象，可以直接通过vc访问到Vue.prototype里面的东西</p>
<p><strong>为什么要有这个关系？</strong>&#x3D;&#x3D;》 让组件实例对象(vc)可以访问到Vue原型上的属性，方法</p>
<p>图示：</p>
<p><img src="/2022/04/10/web-vue01/protoRELA.png"></p>
<p><img src="/2022/04/10/web-vue01/vueREvuecomponent.jpg"></p>

        <h2 id="单文件组件">
          <a href="#单文件组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#单文件组件" class="headerlink" title="单文件组件"></a><font color="green">单文件组件</font></h2>
      
        <h3 id="1-创建Vue脚手架">
          <a href="#1-创建Vue脚手架" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-创建Vue脚手架" class="headerlink" title="1.创建Vue脚手架"></a>1.创建Vue脚手架</h3>
      <p><strong>Vue脚手架是Vue官方提供的标准化开发工具</strong></p>
<ol>
<li>全局安装@vue&#x2F;cli</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></div></figure>
<ol start="2">
<li>切换到你要创建项目的目录，然后使用指令创建项目</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create xxx</span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>启动项目</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></div></figure>

<p><strong>注意：有一些版本的脚手架，组件名称命名需要是双驼峰命名，否则可能会报错</strong></p>
<p><strong>脚手架文件结构</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.文件目录</span><br><span class="line">├── node_modules </span><br><span class="line">├── public</span><br><span class="line">│   ├── favicon.<span class="property">ico</span>: 页签图标</span><br><span class="line">│   └── index.<span class="property">html</span>: 主页面</span><br><span class="line">├── src</span><br><span class="line">│   ├── <span class="attr">assets</span>: 存放静态资源</span><br><span class="line">│   │   └── logo.<span class="property">png</span></span><br><span class="line">│   │── <span class="attr">component</span>: 存放组件</span><br><span class="line">│   │   └── <span class="title class_">HelloWorld</span>.<span class="property">vue</span></span><br><span class="line">│   │── <span class="title class_">App</span>.<span class="property">vue</span>: 汇总所有组件</span><br><span class="line">│   └── main.<span class="property">js</span>: 入口文件</span><br><span class="line">├── .<span class="property">gitignore</span>: git版本管制忽略的配置</span><br><span class="line">├── babel.<span class="property">config</span>.<span class="property">js</span>: babel的配置文件</span><br><span class="line">├── package.<span class="property">json</span>: 应用包配置文件 </span><br><span class="line">├── <span class="variable constant_">README</span>.<span class="property">md</span>: 应用描述文件</span><br><span class="line">└── package-lock.<span class="property">json</span>: 包版本控制文件</span><br></pre></td></tr></table></div></figure>


        <h3 id="2-关于不同版本的Vue：">
          <a href="#2-关于不同版本的Vue：" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-关于不同版本的Vue：" class="headerlink" title="2.关于不同版本的Vue："></a>2.关于不同版本的Vue：</h3>
      <ol>
<li><p>vue.js和vue.runtime.xxx.js的区别：</p>
<p> (1) vue.js是完整版的Vue，包含核心功能和模板解析器</p>
<p> (2)vue.runtime.xxx.js是运行版的Vue，只包含：核心功能，没有模板解析器</p>
</li>
<li><p>因为vue.runtime.xxx.js没有模板解析器，所以不能使用template配置项，需要使用render函数接收到的createElement函数去指定具体内容</p>
</li>
</ol>

        <h3 id="3-修改默认配置">
          <a href="#3-修改默认配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-修改默认配置" class="headerlink" title="3.修改默认配置"></a>3.修改默认配置</h3>
      <p>Vue脚手架隐藏了所有webpack相关的配置，若想查看，执行：<code>vue inspect&gt;output.js</code> <strong>只能查看</strong></p>
<p><strong>项目中有哪些不可以改：</strong></p>
<ol>
<li><p>public路径下的favicon.ico、index.html不可以改</p>
</li>
<li><p>src路径名称不能改</p>
</li>
<li><p>main.js不能改</p>
</li>
</ol>
<p><strong>vue.config.js：</strong>是一个可选的配置文件，如果项目的 (和 package.json 同级的) 根目录中存在这个文件，那么它会被 @vue&#x2F;cli-service 自动加载</p>

        <h3 id="4-ref">
          <a href="#4-ref" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-ref" class="headerlink" title="4.ref"></a>4.ref</h3>
      <p><strong>模板上的指令语法：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">ref</span> = <span class="string">&quot;title&quot;</span>&gt;</span>学校地址：&#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getSchoolAddressEle&quot;</span>&gt;</span> 点击获取学校地址元素<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong>通过ref标签获取该元素</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;SchoolInfo&#x27;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;雷亚鲁卡利亚&#x27;</span>,</span><br><span class="line">            <span class="attr">address</span>:<span class="string">&#x27;利耶尼亚&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="title function_">getSchoolAddressEle</span>(<span class="params"></span>)&#123;</span><br><span class="line">			<span class="comment">//获取真实DOM元素</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">title</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></div></figure>
<p><strong>可以用在组件标签上，以获取到组件的实例对象</strong></p>
<p><strong><font color="green">总结：</font></strong></p>
<ol>
<li><p>被用来给元素或子组件注册引用信息(id的代替者)</p>
</li>
<li><p>应用在html标签上获取的是真实DOM元素，应用在(子)组件标签上是组件实例对象(vc)</p>
</li>
<li><p>使用方式：</p>
</li>
</ol>
<p>打标识：<code>&lt;h1 ref=&quot;xxx&quot;&gt;&lt;/h1&gt;</code>或者<code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></p>
<p>获取：<code>this.$refs.xxx</code></p>

        <h3 id="5-props-属性-配置">
          <a href="#5-props-属性-配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-props-属性-配置" class="headerlink" title="5. props(属性)配置"></a>5. props(属性)配置</h3>
      <p>功能：让组件接收外部传过来的数据</p>
<p>传递数据：App.vue</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	//此处School是组件标签</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">School</span> <span class="attr">name</span>=<span class="string">&quot;雷亚卢卡利亚&quot;</span> <span class="attr">address</span>=<span class="string">&quot;利耶尼亚&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="red">注意：此处发送的数据都是字符串类型的，故不能直接在模板中进行计算。可以在发送时使用指令语法v-bind，将发送的数据成为引号内的内容(表达式)，就可以发送原始数据了</font></strong></p>
<p>如：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	//此处School是组件标签</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">School</span> <span class="attr">name</span>=<span class="string">&quot;雷亚卢卡利亚&quot;</span> <span class="attr">address</span>=<span class="string">&quot;利耶尼亚&quot;</span> <span class="attr">:age</span>=<span class="string">&quot;18&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>
<p>因为v-bind指令语法中，引号里的内容是表达式，所以接收数据时就会是原始的数据。</p>
<p>接收数据：School.vue</p>
<p><strong>1. 简单声明接收：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span> &gt;</span>学校地址：&#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>:<span class="string">&#x27;SchoolInfo&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>:[<span class="string">&quot;name&quot;</span>,<span class="string">&quot;address&quot;</span>],<span class="comment">//简单接收</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p><strong>2. 接收的同时对数据进行类型限制</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>学校名称：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span> &gt;</span>学校地址：&#123;&#123;address&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>:<span class="string">&#x27;SchoolInfo&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">props</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	    <span class="attr">name</span>:<span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	    <span class="attr">age</span>:<span class="title class_">Number</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	    <span class="attr">address</span>:<span class="title class_">String</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p>如果接收到的不是对应的数据类型可能会报错</p>
<p><strong>3. 接收的同时对数据进行类型限制+默认值指定+必要性限制</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line">    <span class="attr">name</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">age</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="title class_">Number</span>,</span><br><span class="line">        <span class="attr">default</span>:<span class="number">99</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">address</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">  	    <span class="attr">required</span>:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>一般required和default不写一起</p>
<p><strong>props是只读的，Vue底层会监测你对props的修改，如果进行了修改，就会发出警告。若业务需求确实需要修改，可以复制props的内容到data中一份，然后去修改data中的数据</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;SchoolInfo&#x27;</span>,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="title function_">getSchoolAddressEle</span>(<span class="params"></span>)&#123;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="comment">//赋值</span></span><br><span class="line">            <span class="attr">myName</span>:<span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">props</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:&#123;</span><br><span class="line">            <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<blockquote>
<p>如果传入子组件的function是定义在methods和computed中的方法或计算属性，那么子组件调用此方法时方法内部依然是父组件的this。如果传入子组件的function是定义在data中的方法，那么子组件调用此方法时方法内部是子组件的this</p>
</blockquote>
<p><strong>4. 属性修饰符sync【组件通信方式一种】</strong></p>
<p>可以实现父子组件数据同步</p>
<p>父组件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123;money&#125;&#125;</span></span><br><span class="line"><span class="language-xml">    子组件</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">:money.sync</span>=<span class="string">&quot;money&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&#x27;./components/HelloWorld.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">money</span>:<span class="number">10000</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">HelloWorld</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><code>:money.sync</code>，代表父组件给字符串传递props【money】，自动给当前子组件绑定一个自定义事件【update:money】(此处money是属性名称)</p>
<p>子组件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$emit(&#x27;update:money&#x27;,money-100)&quot;</span>&gt;</span>减少100<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">div</span>&gt;</span>剩余&#123;&#123;money&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [<span class="string">&#x27;money&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- <span class="title class_">Add</span> <span class="string">&quot;scoped&quot;</span> attribute to limit <span class="variable constant_">CSS</span> to <span class="variable language_">this</span> component only --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>触发该自定义事件</p>
<p><strong>5. $attrs</strong></p>
<p>属于组件的一个属性，可以获取到父组件传递过来的props数据</p>
<blockquote>
<p>对于子组件而言，父组件给的数据可以利用$attrs接收，但是需要注意，如果子组件通过props接收的属性，在$attrs属性当中是获取不到的</p>
</blockquote>
<p>父组件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">HintButton</span> type=<span class="string">&quot;success&quot;</span> icon=<span class="string">&quot;el-icon-delete&quot;</span> size=<span class="string">&quot;mini&quot;</span> title=<span class="string">&quot;提示按钮&quot;</span> /&gt;</span><br></pre></td></tr></table></div></figure>

<p>子组件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span> &gt;</span> 添加 <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;HintButton&quot;</span>,</span><br><span class="line">  <span class="attr">props</span>:[<span class="string">&quot;title&quot;</span>],</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></div></figure>

<p>或者单个引入：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button :type=<span class="string">&quot;$attrs.type&quot;</span> &gt; 添加 &lt;/el-button&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong>6. $listeners</strong></p>
<p>它也是组件实例自身的一个属性，它可以获取到父组件给子组件传递自定义事件</p>
<p>父组件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">HintButton</span> @click=<span class="string">&quot;aletText&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">aletText</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>

<p>子组件：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">a</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span> <span class="attr">v-on</span>=<span class="string">&quot;$listeners&quot;</span>&gt;</span> 添加 <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>

<p>或者单个引入</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button  @click=<span class="string">&quot;$listeners.click&quot;</span>&gt; 添加 &lt;/el-button&gt;</span><br></pre></td></tr></table></div></figure>



<p><strong>$listeners和$attrs</strong>：它们两者是组件实例的属性，可以获取到父组件给子组件传递props与自定义事件</p>
<p><strong>7. $children&amp;$parent</strong></p>
<p>组件实例自身拥有一个属性$children,可以获取到当前组件中，全部子组件</p>
<p>可以通过$parent属性获取到某一个组件父组件，可以操作父组件的数据与方法</p>

        <h3 id="6-mixin混入">
          <a href="#6-mixin混入" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-mixin混入" class="headerlink" title="6.mixin混入"></a>6.mixin混入</h3>
      <p><strong>功能：可以把多个组件共用的配置提取成一个混入对象</strong></p>
<p>注：混合中如果有data属性，那么：组件已经存在的属性用组件中的，组件不存在mixin存在的属性，mixin会添加。</p>
<p>另外生命周期的方法(如mounted)则组件中的和mixin中的都会执行，优先执行mixin中的</p>
<ol>
<li>创建混合用的js–mixin.js</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mixin = &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">x</span>: <span class="number">100</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好啊~混合&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>引入</li>
</ol>
<p><strong>局部混合</strong></p>
<p>StudentInfo.vue</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123;mixin&#125; <span class="keyword">from</span> <span class="string">&quot;../mixin.js&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;StudentInfo&#x27;</span>,</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&#x27;拓普斯&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mixins</span>:[mixin],</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong>全局混合</strong></p>
<p>main.js</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mixin,mixin1 &#125; <span class="keyword">from</span> <span class="string">&#x27;./mixin.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(mixin1)</span><br></pre></td></tr></table></div></figure>


        <h3 id="7-插件">
          <a href="#7-插件" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-插件" class="headerlink" title="7.插件"></a>7.插件</h3>
      <p>功能：用于增强Vue</p>
<p>本质：包含install方法的一个对象。install的第一个参数是Vue(非vm实例对象，是构造vm的函数对象)，第二个以后的参数是插件使用者传递的数据</p>
<ol>
<li>定义插件</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	<span class="title function_">install</span>(<span class="params">Vue,option1,option2</span>)&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">//1. 添加全局过滤器</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="title function_">filter</span>(...)</span><br><span class="line">		<span class="comment">//2. 添加全局指令</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="title function_">directive</span>(...)</span><br><span class="line">		<span class="comment">//3.配置全局混入</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="title function_">mixin</span>(...)</span><br><span class="line">		<span class="comment">//4.添加实例方法</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myMethod</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;...&#125;</span><br><span class="line">		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$myProperty</span> = xxxx</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>使用插件</li>
</ol>
<p>main.js</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> plugin <span class="keyword">from</span> <span class="string">&#x27;./plugin.js&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(plugin,<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></div></figure>


        <h3 id="8-scoped样式">
          <a href="#8-scoped样式" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-scoped样式" class="headerlink" title="8. scoped样式"></a>8. scoped样式</h3>
      <p>组件的样式在解析后会全局生效，如果多个组件有相同的样式名称，如(class&#x3D;”demo”)，那么后import会覆盖前import的样式。此时可以使用scoped</p>
<p>作用：让组件的样式在局部生效，防止冲突</p>
<p>写法：<code>&lt;script scoped&gt;&gt;</code></p>

        <h3 id="9-组件化编码">
          <a href="#9-组件化编码" class="heading-link"><i class="fas fa-link"></i></a><a href="#9-组件化编码" class="headerlink" title="9.组件化编码"></a>9.组件化编码</h3>
      <p><strong>顺序</strong></p>
<ol>
<li><p>实现静态组件：抽取组件，使用组件实现静态页面效果</p>
</li>
<li><p>展示动态数据：</p>
<p> 数据的类型，名称是什么</p>
<p> 数据保存在哪个组件</p>
</li>
<li><p>交互：从绑定事件监听开始</p>
</li>
</ol>
<p><strong>組件化编码流程</strong></p>
<ol>
<li><p>拆分静态组件：组件要按照功能点拆分，命名不要与html元素冲突</p>
</li>
<li><p>拆分动态组件：考虑好数据的存放位置，数据是一个组件在用，还是一些组件在用</p>
<p> 1)一个组件在用：放在组件自身即可</p>
<p> 2)一些组件在用：放在它们共同的父组件上（状态提升）</p>
</li>
<li><p>实现交互：从绑定事件开始</p>
</li>
</ol>
<p><strong>props适用于：</strong></p>
<ol>
<li><p>父组件&#x3D;&#x3D;&gt;子组件  通信</p>
</li>
<li><p>子组件&#x3D;&#x3D;&gt; 父组件 通信(要求父先给子一个函数)</p>
</li>
</ol>
<p><strong>使用v-model时要切记：v-model绑定的值不能是props传过来的值，因为props是不可以修改的</strong></p>
<p><strong>props传过来的若是对象类型的值，修改对象中的属性时Vue不会报错，但不推荐这样做</strong></p>

        <h3 id="10-浏览器本地存储">
          <a href="#10-浏览器本地存储" class="heading-link"><i class="fas fa-link"></i></a><a href="#10-浏览器本地存储" class="headerlink" title="10 浏览器本地存储"></a>10 浏览器本地存储</h3>
      <p><strong>存储内容大小一般支持5MB左右（不同浏览器可能不一样）</strong></p>
<p>浏览器端通过<code>Window.sessionStorage</code>和<code>Window.localStorage</code>属性来实现本地存储机制</p>
<p><strong>1.localStorage</strong></p>
<p>localStorage.setItem(key,value)</p>
<p>localStorage.getItem(key)    &#x2F;&#x2F;如果key对应的value获取不到，返回值为null</p>
<p>localStorage.removeItem(key)</p>
<p>localStorage.clear()</p>
<p>即使关闭浏览器也不会清掉</p>
<p><strong>2.SessionStorage</strong></p>
<p>浏览器关闭数据就没了</p>
<p>所有方法和localStorage一样</p>

        <h3 id="9-组件自定义事件">
          <a href="#9-组件自定义事件" class="heading-link"><i class="fas fa-link"></i></a><a href="#9-组件自定义事件" class="headerlink" title="9. 组件自定义事件"></a>9. 组件自定义事件</h3>
      <p><strong>一种组件间通信的方式，适用于：<font color="red">子组件&#x3D;&gt;父组件</font></strong></p>
<p><strong>使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件(事件的回调在A中)</strong></p>
<blockquote>
<p>即父组件定义回调函数，子组件调用</p>
</blockquote>
<p><strong>绑定自定义事件</strong></p>
<ol>
<li><p>在父组件中：<code>&lt;Demo @custevent=&quot;test&quot;/&gt;</code>或者<code>&lt;Demo v-on:custevent=&quot;test&quot;/&gt;</code></p>
</li>
<li><p>在父组件中：</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> ref=<span class="string">&quot;demo&quot;</span>/&gt;</span><br><span class="line">...</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xxx</span>.$on(<span class="string">&quot;custevent&quot;</span>,<span class="variable language_">this</span>.<span class="property">test</span>)<span class="comment">//test是定义在methods中的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>3.若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或者<code>$once</code>方法</p>
<p><strong>触发自定义事件：<code>this.$emit(&quot;custevent&quot;,参数1,参数2...)</code></strong></p>
<p><strong>解绑自定义事件：<code>this.$off(&quot;custevent&quot;)</code>&#x2F;解绑多个：<code>this.$off([&#39;custevent1&#39;,&#39;custevent2&#39;])</code>&#x2F;解绑全部：<code>this.$off()</code></strong></p>
<p><strong>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符，否则被当做是自定义事件</strong></p>
<p><strong><font color="red">注意：通过<code>this.$refs.xxx.$on(&#39;custevent&#39;,回调函数)</code>绑定自定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题</font></strong></p>
<p>关于this的指向问题：①谁触发的自定义事件，事件的回调当中的this就是谁(即谁绑定的自定义事件，this就是谁)  ②Vue承诺，如果函数写在methods中并且是普通函数，那么函数的this一定是当前组件的实例对象。<strong>如果1、 2冲突，那么以2为主。</strong></p>

        <h3 id="10全局事件总线（GlobalEventBus）">
          <a href="#10全局事件总线（GlobalEventBus）" class="heading-link"><i class="fas fa-link"></i></a><a href="#10全局事件总线（GlobalEventBus）" class="headerlink" title="10全局事件总线（GlobalEventBus）"></a>10全局事件总线（GlobalEventBus）</h3>
      <p><strong>一种组件间通信的方式，适用于任意组件间通信</strong></p>
<p><strong>1. 安装全局事件总线</strong></p>
<p>main.js：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>2. 使用事件总线</strong></p>
<p>接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身</p>
<p>school.vue:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果函数在mounted中写要使用箭头函数，使this指向所在(当前)组件</span></span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&quot;transdata&quot;</span>,<span class="function">(<span class="params">sname,saddress</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;学生姓名：&quot;</span>,sname)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;学生地址：&quot;</span>,saddress)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//在beforeDestroy中解绑当前组件用到的事件</span></span><br><span class="line"><span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$bus</span>.$off(<span class="string">&quot;transdata&quot;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>

<p>提供数据：</p>
<p>student.vue：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">dataTransSchool</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&quot;transdata&quot;</span>,<span class="variable language_">this</span>.<span class="property">sname</span>,<span class="variable language_">this</span>.<span class="property">saddress</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>


        <h3 id="11-消息訂閲與發佈">
          <a href="#11-消息訂閲與發佈" class="heading-link"><i class="fas fa-link"></i></a><a href="#11-消息訂閲與發佈" class="headerlink" title="11.消息訂閲與發佈"></a>11.消息訂閲與發佈</h3>
      <p><strong>1. 一种组件间的通信的方式，适用于任意组件间通信</strong></p>
<p><strong>2. 使用步骤</strong></p>
<p><strong>安装库：</strong></p>
<p><code>npm i pubsub-js</code></p>
<p><strong>引入：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pubsub <span class="keyword">from</span> <span class="string">&quot;pubsub-js&quot;</span></span><br></pre></td></tr></table></div></figure>

<p><strong>接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">//第一个参数是消息名称，第二个参数是传递的数据。</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">pubid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&quot;hello&quot;</span>,<span class="function">(<span class="params">msgName,data</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;发布了hello消息，hello回调执行,参数：&quot;</span>,msgName,data)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="red">注意：由于pubsub-js是第三方库，不由vue管理，所以如果此处回调写的普通函数，那么this指向是undefined。想要this指向vc，可以写成箭头函数或者函数写在methods中让vue管理函数</font></strong></p>
<p><strong>提供数据：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pubsub.<span class="title function_">publish</span>(<span class="string">&#x27;xxx&#x27;</span>,数据)</span><br></pre></td></tr></table></div></figure>

<p><strong>取消订阅</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">	pubsub.<span class="title function_">unsubscribe</span>(<span class="variable language_">this</span>.<span class="property">pubid</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>


        <h3 id="12-nextTick">
          <a href="#12-nextTick" class="heading-link"><i class="fas fa-link"></i></a><a href="#12-nextTick" class="headerlink" title="12.$nextTick"></a>12.$nextTick</h3>
      <p><strong>语法：<code>this.$nextTick(回调函数)</code></strong></p>
<p><strong>作用：在下一次DOM更新结束后执行其指定的回调</strong></p>
<p><strong>什么时候用：在修改数据之后，立即使用这个方法，在下次DOM更新(v-for)循环之后，执行延迟回调</strong></p>
<p><strong>可以保证页面中的结构一定是有的，经常和很多插件一起使用【都需要DOM存在】</strong></p>
<p>例如：</p>
<p>例子一：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;a&#125;&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">a</span>=<span class="number">19985</span></span><br><span class="line">    <span class="variable language_">this</span>.$nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;回调执行&quot;</span>)</span><br><span class="line">     <span class="keyword">debugger</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="green">流程：修改数据a&#x3D;&#x3D;&gt;执行到nextTick，将回调函数存起来&#x3D;&#x3D;&gt;执行页面更新流程&#x3D;&#x3D;&gt;执行nextTick中的回调函数</font></strong></p>
<p>例子二：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.$nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;回调执行&quot;</span>)</span><br><span class="line">     <span class="keyword">debugger</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="green">流程：执行到nextTick，将回调函数存起来&#x3D;&#x3D;&gt;监测不到需要更新的数据(该次流程(函数内)无数据更新)&#x3D;&#x3D;&gt;执行nextTick中的回调函数</font></strong></p>

        <h1 id="VUE动画">
          <a href="#VUE动画" class="heading-link"><i class="fas fa-link"></i></a><a href="#VUE动画" class="headerlink" title="VUE动画"></a>VUE动画</h1>
      
        <h2 id="动画和过渡效果">
          <a href="#动画和过渡效果" class="heading-link"><i class="fas fa-link"></i></a><a href="#动画和过渡效果" class="headerlink" title="动画和过渡效果"></a><font color="green">动画和过渡效果</font></h2>
      <p>作用：在插入，更新或者移除DOM元素时，在合适的时候给元素添加样式类名</p>
<p>写法：</p>
<ol>
<li><p>准备好样式</p>
<ul>
<li><p>元素进入的样式</p>
<ol>
<li><p>v-enter:进入的起点</p>
</li>
<li><p>v-enter-active：进入过程中</p>
</li>
<li><p>v-enter-to：进入的终点</p>
</li>
</ol>
</li>
<li><p>元素离开的样式</p>
<ol>
<li><p>v-leave：离开的起点</p>
</li>
<li><p>v-leave-active：离开过程中</p>
</li>
<li><p>v-leave-to：离开的终点</p>
</li>
</ol>
</li>
</ul>
</li>
<li><p>使用<code>&lt;transition&gt;包裹要过渡的元素，并配置name属性</code></p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition appear name=<span class="string">&quot;hello&quot;</span>&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>你好啊！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">&lt;/transition&gt;</span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>备注：若有多个元素需要过渡，则需要使用：<code>&lt;transition-group&gt;</code>，且每个元素都要指定<code>key</code>值</li>
</ol>

        <h3 id="1-使用动画">
          <a href="#1-使用动画" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-使用动画" class="headerlink" title="1. 使用动画"></a>1. 使用动画</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow=!isShow&quot;</span>&gt;</span>显示/隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">transition</span> <span class="attr">appear</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>你好啊！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>:<span class="string">&quot;TestAnim&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">isShow</span>:<span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-tag">h1</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background-color</span>: orange;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">	//此处如果没有指定name，name就是默认的<span class="selector-class">.v-enter-active</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.hello-enter-active</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">animation</span>: testA <span class="number">1s</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.hello-leave-active</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">animation</span>: testA <span class="number">1s</span> reverse;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="keyword">@keyframes</span> testA&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">from</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100%</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">to</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0px</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>


        <h3 id="2-使用过渡">
          <a href="#2-使用过渡" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-使用过渡" class="headerlink" title="2.使用过渡"></a>2.使用过渡</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow=!isShow&quot;</span>&gt;</span>显示/隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">transition</span> <span class="attr">appear</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>你好啊！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>:<span class="string">&quot;TestAnim&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">isShow</span>:<span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-tag">h1</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background-color</span>: orange;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="comment">/* 进入的起点，离开的终点 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.hello-enter</span>,<span class="selector-class">.hello-leave-to</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100%</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="comment">/* 过渡 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.hello-enter-active</span>,<span class="selector-class">.hello-leave-active</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">transition</span>: <span class="number">0.5s</span> linear;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="comment">/* 进入的终点，离开的起点 */</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.hello-enter-to</span>,<span class="selector-class">.hello-leave</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>


        <h3 id="3-第三方库">
          <a href="#3-第三方库" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-第三方库" class="headerlink" title="3. 第三方库"></a>3. 第三方库</h3>
      <p>安装</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install animate.<span class="property">css</span> --save</span><br></pre></td></tr></table></div></figure>
<p>使用</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isShow=!isShow&quot;</span>&gt;</span>显示/隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	  <span class="comment">&lt;!-- name必须要写，是库的类的名；然后是进入以及离开的名称配置 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">transition</span> <span class="attr">appear</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">name</span>=<span class="string">&quot;animate__animated animate__bounce&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">enter-active-class</span>=<span class="string">&quot;animate__swing&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">leave-active-class</span>=<span class="string">&quot;animate__backOutUp&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>你好啊！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">/* 此为样式，直接引入即可 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="string">&#x27;animate.css&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">name</span>:<span class="string">&quot;TestAnim&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">isShow</span>:<span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-tag">h1</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background-color</span>: orange;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>


        <h1 id="vue中的ajax">
          <a href="#vue中的ajax" class="heading-link"><i class="fas fa-link"></i></a><a href="#vue中的ajax" class="headerlink" title="vue中的ajax"></a>vue中的ajax</h1>
      
        <h2 id="方式一">
          <a href="#方式一" class="heading-link"><i class="fas fa-link"></i></a><a href="#方式一" class="headerlink" title="方式一"></a><font color="green">方式一</font></h2>
      <p>用vue-cli配置代理服务器解决跨域问题：</p>
<p>vue-config-js：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&#x27;@vue/cli-service&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">    <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">devServer</span>: &#123;</span><br><span class="line">        <span class="attr">proxy</span>: <span class="string">&#x27;http://localhost:4000&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>html：</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&quot;http://localhost:8080/students&quot;).then(</span><br><span class="line">    response=&gt;&#123;</span><br><span class="line">      console.log(&quot;请求成功了&quot;,response.data)</span><br><span class="line">    &#125;,error=&gt;&#123;</span><br><span class="line">      console.log(&quot;请求失败了&quot;,error.message)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></div></figure>

<p>页面访问<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://localhost:8080/students%E5%88%B0%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%86%8D%E8%AE%BF%E9%97%AE4000%E7%AB%AF%E5%8F%A3%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E5%B0%B1%E8%A7%A3%E5%86%B3%E4%BA%86%E8%B7%A8%E5%9F%9F%E7%9A%84%E9%97%AE%E9%A2%98%E3%80%82">http://localhost:8080/students到代理服务器，代理服务器再访问4000端口到服务器，就解决了跨域的问题。</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>注：同源策略只存在浏览器-服务器。服务器-服务器之间没有这种策略</p>
<p>优点：配质检单，请求资源时直接发给前端(8080)即可</p>
<p>缺点：不能配置多个代理，不能灵活的控制请求是否走代理</p>
<p>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器(优先匹配前端资源)</p>

        <h2 id="方式二">
          <a href="#方式二" class="heading-link"><i class="fas fa-link"></i></a><a href="#方式二" class="headerlink" title="方式二"></a><font color="green">方式二</font></h2>
      <p>编写vue.config.js配置具体代理规则(配置多个代理)</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">		<span class="comment">//匹配所有以&quot;/api&quot;开头的请求路径</span></span><br><span class="line">        <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">            <span class="attr">target</span>: <span class="string">&#x27;http://localhost:4000&#x27;</span>,<span class="comment">//代理目标的基础路径</span></span><br><span class="line">            <span class="comment">//去掉路径上的api</span></span><br><span class="line">            <span class="attr">pathRewrite</span>: &#123; <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">            <span class="comment">//用于支持webspcket</span></span><br><span class="line">            <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//用于控制请求头中的host值</span></span><br><span class="line">            <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">		<span class="comment">//匹配所有以&quot;/demo&quot;开头的请求路径</span></span><br><span class="line">        <span class="string">&#x27;/demo&#x27;</span>: &#123;</span><br><span class="line">            <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,</span><br><span class="line">            <span class="comment">//去掉路径上的api</span></span><br><span class="line">            <span class="attr">pathRewrite</span>: &#123; <span class="string">&#x27;^/demo&#x27;</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">            <span class="comment">//用于支持webspcket</span></span><br><span class="line">            <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//用于控制请求头中的host值,如果为true，和请求的host保持一致，否则就是原来的host</span></span><br><span class="line">            <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	changeOrigin为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">	changeOrigin为false时，服务器收到的请求头中的host为：localhost:8080</span></span><br><span class="line"><span class="comment">	changeOrigin默认值为true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></div></figure>

<p>html：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">getStudents</span>(<span class="params"></span>)&#123;</span><br><span class="line">  axios.<span class="title function_">get</span>(<span class="string">&quot;http://localhost:8080/api/students&quot;</span>).<span class="title function_">then</span>(</span><br><span class="line">    <span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求成功了&quot;</span>,response.<span class="property">data</span>)</span><br><span class="line">    &#125;,<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求失败了&quot;</span>,error.<span class="property">message</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">getCars</span>(<span class="params"></span>)&#123;</span><br><span class="line">  axios.<span class="title function_">get</span>(<span class="string">&quot;http://localhost:8080/demo/cars&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">response</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求成功了&quot;</span>,response.<span class="property">data</span>)</span><br><span class="line">  &#125;,<span class="function"><span class="params">error</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;请求失败了&quot;</span>,error.<span class="property">message</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>优点：可以配置多个代理，且可以灵活的控制请求是否走代理</p>
<p>缺点：配置略繁琐，请求资源时必须加前缀</p>

        <h2 id="插槽">
          <a href="#插槽" class="heading-link"><i class="fas fa-link"></i></a><a href="#插槽" class="headerlink" title="插槽"></a><font color="green">插槽</font></h2>
      <ol>
<li><p>作用：让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式，适用于父组件&#x3D;&#x3D;&#x3D;&gt;子组件</p>
</li>
<li><p>分类：默认插槽、具名插槽、作用域插槽</p>
</li>
<li><p>使用方式：</p>
</li>
</ol>

        <h3 id="1-默认插槽">
          <a href="#1-默认插槽" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-默认插槽" class="headerlink" title="1. 默认插槽"></a>1. 默认插槽</h3>
      <p><strong>父组件：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">CateGory</span>&gt;</span><br><span class="line"></span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>html结构<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">CateGory</span>/&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p><strong>子组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="comment">&lt;!-- 定义插槽 --&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">slot</span>&gt;</span>默认插槽内容(如果父组件的标签内没有内容，默认显示这些)<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="2-具名插槽">
          <a href="#2-具名插槽" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-具名插槽" class="headerlink" title="2. 具名插槽"></a>2. 具名插槽</h3>
      <p><strong>父组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">CateGory</span>&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">div</span>&gt;</span>html结构<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:footer</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">div</span>&gt;</span>html结构<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">CateGory</span>/&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p><strong>子组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="comment">&lt;!-- 定义插槽 --&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span>插槽默认内容...<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>插槽默认内容...<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="3-作用域插槽">
          <a href="#3-作用域插槽" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-作用域插槽" class="headerlink" title="3. 作用域插槽"></a>3. 作用域插槽</h3>
      <p>理解：数据在组件自身，但根据数据生成的结构需要组件的使用者决定。(games数据再Category组件中，但是用数据所遍历出来的结构由APP组件决定)</p>
<p><strong>父组件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">CateGory</span>&gt;</span><br><span class="line">	&lt;!-- scopeData可以随意命名 --&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">scope</span>=<span class="string">&quot;scopeData&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="comment">&lt;!-- 生成的是ul列表 --&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;g in scopeData.games&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;g&quot;</span>&gt;</span>&#123;&#123;g&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">CateGory</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">CateGory</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;scopeData&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="comment">&lt;!-- 生成的是h4标题 --&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">h4</span> <span class="attr">v-for</span>=<span class="string">&quot;g in scopeData.games&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;g&quot;</span>&gt;</span>&#123;&#123;g&#125;&#125;<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">CateGory</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>如果子组件定义了多个插槽，那么都是在scopeData中取即可</p>
<p><strong>子组件中</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;diiv&gt;</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">:games</span>=<span class="string">&quot;games&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	<span class="keyword">export</span> <span class="keyword">default</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		<span class="attr">name</span>:<span class="string">&quot;CateGory&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		<span class="comment">//数据在子组件自身</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		<span class="title function_">data</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			<span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">				<span class="attr">games</span>:[<span class="string">&#x27;艾尔登法环&#x27;</span>,<span class="string">&#x27;GTA5&#x27;</span>,<span class="string">&#x27;怪物猎人&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></div></figure>


        <h1 id="VUEX">
          <a href="#VUEX" class="heading-link"><i class="fas fa-link"></i></a><a href="#VUEX" class="headerlink" title="VUEX"></a>VUEX</h1>
      
        <h2 id="是什么">
          <a href="#是什么" class="heading-link"><i class="fas fa-link"></i></a><a href="#是什么" class="headerlink" title="是什么"></a><font color="green">是什么</font></h2>
      <p><strong>1. 概念：专门在Vue中实现集中式状态(数据)管理的一个Vue插件，对Vue应用中多个组件的共享状态进行集中式的管理(读&#x2F;写)，也是一种组件间通信的方式，且适用于任意组件间通信</strong></p>
<p><strong>2.Github地址：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></strong></p>

        <h2 id="什么时候使用">
          <a href="#什么时候使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#什么时候使用" class="headerlink" title="什么时候使用"></a><font color="green">什么时候使用</font></h2>
      <p><strong>1. 多个组件依赖于同一状态(数据)</strong></p>
<p><strong>2. 来自不同组件的行为需要变更同一状态</strong></p>
<p>即共享</p>

        <h2 id="搭建vuex环境">
          <a href="#搭建vuex环境" class="heading-link"><i class="fas fa-link"></i></a><a href="#搭建vuex环境" class="headerlink" title="搭建vuex环境"></a><font color="green">搭建vuex环境</font></h2>
      <p><strong>1. 创建文件<code>src/store/index.js</code></strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"><span class="comment">//引入vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//应用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备mutations--用于操作数据(state)</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>注意，脚手架会先扫描文件中的import关键字按顺序执行，所以import即使放在语句下面也会优先执行</strong></p>
<p><strong>2. 在<code>main.js</code>中创建vm时传入store配置项</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store/index&quot;</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    store,</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>


        <h2 id="基本使用">
          <a href="#基本使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#基本使用" class="headerlink" title="基本使用"></a><font color="green">基本使用</font></h2>
      <p><strong>1. 初始化数据，配置actions、配置mutations、操作文件store.js</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="comment">//引入vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//应用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备actions--用于响应组件中的动作</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="title function_">jiaOdd</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIAODD&quot;</span>, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">jiaWait</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            context.<span class="title function_">commit</span>(<span class="string">&quot;JIAWAIT&quot;</span>, value)</span><br><span class="line">        &#125;, <span class="number">500</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备mutations--用于操作数据(state)</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="title function_">JIA</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        state.<span class="property">sum</span> += value</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">JIAN</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        state.<span class="property">sum</span> -= value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">JIAODD</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        state.<span class="property">sum</span> += value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">JIAWAIT</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">        state.<span class="property">sum</span> += value</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备state--用于存储数据</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">sum</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong>2. 组件中读取vuex中的数据：<code>$store.state.sum</code></strong></p>
<p><strong>3. 组件中修改vuex中的数据：<code>$store.dispatch(&quot;action中的方法名&quot;,数据)</code>或者<code>$store.commit(&quot;mutation中的方法名&quot;,数据)</code></strong></p>
<p>注：如果没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</p>

        <h2 id="getters的使用">
          <a href="#getters的使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#getters的使用" class="headerlink" title="getters的使用"></a><font color="green">getters的使用</font></h2>
      <ol>
<li><p>概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</p>
</li>
<li><p>在<code>store.js</code>中追加getters配置</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">//准备getters--用于将state中的数据进行加工</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">		<span class="comment">//需要一个返回值</span></span><br><span class="line">        <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建并导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>组件中读取数据：<code>$store.getters.bigSum</code></li>
</ol>

        <h2 id="四个map方法的使用">
          <a href="#四个map方法的使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#四个map方法的使用" class="headerlink" title="四个map方法的使用"></a><font color="green">四个map方法的使用</font></h2>
      <p><strong>组件引入：<code>import &#123;mapGetters, mapState&#125; from &quot;vuex&quot;</code></strong></p>

        <h3 id="1-mapState方法：用于帮助我们映射state中的数据为计算属性">
          <a href="#1-mapState方法：用于帮助我们映射state中的数据为计算属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-mapState方法：用于帮助我们映射state中的数据为计算属性" class="headerlink" title="1.mapState方法：用于帮助我们映射state中的数据为计算属性"></a>1.mapState方法：用于帮助我们映射state中的数据为计算属性</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>:&#123;</span><br><span class="line">    <span class="comment">//此处sum是字符串，因为要找的是key值，如果不加引号就会是变量</span></span><br><span class="line">    <span class="comment">//借助mapState生成计算属性，从state中读取数据，(对象写法)</span></span><br><span class="line">    <span class="comment">// ...mapState(&#123;he:&#x27;sum&#x27;,xuexiao:&quot;school&quot;,xueke:&quot;subject&quot;&#125;),</span></span><br><span class="line">    <span class="comment">//借助mapState生成计算属性，从state中读取数据，数组写法</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>使用：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">和：&#123;&#123;he&#125;&#125;,学校:&#123;&#123;xuexiao&#125;&#125;,学科：&#123;&#123;xueke&#125;&#125;,</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">&#123;&#123;sum&#125;&#125;,&#123;&#123;school&#125;&#125;,&#123;&#123;subject&#125;&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="2-mapGetters方法：用于帮助我们映射getters中的数据为计算属性">
          <a href="#2-mapGetters方法：用于帮助我们映射getters中的数据为计算属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-mapGetters方法：用于帮助我们映射getters中的数据为计算属性" class="headerlink" title="2.mapGetters方法：用于帮助我们映射getters中的数据为计算属性"></a>2.mapGetters方法：用于帮助我们映射getters中的数据为计算属性</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>:&#123;</span><br><span class="line">    <span class="comment">// 借助mapGetters生成计算属性，从getters中读取数据，对象写法</span></span><br><span class="line">    <span class="comment">// ...mapGetters(&#123;bigSum:&quot;bigSum&quot;&#125;),</span></span><br><span class="line">    <span class="comment">// 借助mapGetters生成计算属性，从getters中读取数据，数组写法</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="3-mapActions方法：用于帮助我们生成与actions对话的方法，即包含-store-dispatch-xxx-的函数">
          <a href="#3-mapActions方法：用于帮助我们生成与actions对话的方法，即包含-store-dispatch-xxx-的函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-mapActions方法：用于帮助我们生成与actions对话的方法，即包含-store-dispatch-xxx-的函数" class="headerlink" title="3. mapActions方法：用于帮助我们生成与actions对话的方法，即包含$store.dispatch(xxx)的函数"></a>3. mapActions方法：用于帮助我们生成与actions对话的方法，即包含<code>$store.dispatch(xxx)</code>的函数</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line"> 	<span class="comment">//对象写法</span></span><br><span class="line">    <span class="comment">//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="string">&quot;incrementOdd&quot;</span>:<span class="string">&quot;jiaOdd&quot;</span>,<span class="string">&quot;incrementWait&quot;</span>:<span class="string">&quot;jiaWait&quot;</span>&#125;),</span><br><span class="line">    <span class="comment">//数组写法</span></span><br><span class="line">    <span class="comment">// ...mapActions([&quot;jiaOdd&quot;,&quot;jiaWait&quot;])</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="4-mapMutations方法：用于帮助我们生产与mutations对话的方法，即包含-store-commit-xxx-的函数">
          <a href="#4-mapMutations方法：用于帮助我们生产与mutations对话的方法，即包含-store-commit-xxx-的函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-mapMutations方法：用于帮助我们生产与mutations对话的方法，即包含-store-commit-xxx-的函数" class="headerlink" title="4. mapMutations方法：用于帮助我们生产与mutations对话的方法，即包含$store.commit(xxx)的函数"></a>4. mapMutations方法：用于帮助我们生产与mutations对话的方法，即包含<code>$store.commit(xxx)</code>的函数</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="string">&quot;increment&quot;</span>:<span class="string">&quot;JIA&quot;</span>,<span class="string">&quot;decrement&quot;</span>:<span class="string">&quot;JIAN&quot;</span>&#125;),</span><br><span class="line">    <span class="comment">//数组写法</span></span><br><span class="line">    <span class="comment">// ...mapMutations([&quot;JIA&quot;,&quot;JIAN&quot;]),</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>&#x3D;&#x3D;&#x3D;&gt;实际生成</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">increment</span>(<span class="params">value</span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;JIA&quot;</span>,value)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">decrement</span>(<span class="params">value</span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;JIAN&quot;</span>,value)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p>所以在模板中绑定事件时应该传好值，不传默认是event。</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;increment(n)&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;decrement(n)&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>也可以在方法中调用时传值：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">fun1</span>(<span class="params"></span>)&#123;</span><br><span class="line">		<span class="variable language_">this</span>.<span class="title function_">increment</span>(<span class="variable language_">this</span>.<span class="property">n</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h2 id="模块化-命名空间">
          <a href="#模块化-命名空间" class="heading-link"><i class="fas fa-link"></i></a><a href="#模块化-命名空间" class="headerlink" title="模块化+命名空间"></a><font color="green">模块化+命名空间</font></h2>
      <p><strong>目的：让代码更好维护，让多种数据分类更加明确</strong></p>
<ol>
<li>修改<code>store.js</code></li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该文件用于创建Vuex中最为核心的store</span></span><br><span class="line"><span class="comment">//引入Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="comment">//引入vue</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//应用Vuex插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//计数相关</span></span><br><span class="line"><span class="keyword">const</span> countAbout = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>, <span class="comment">//开启命名空间</span></span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">        <span class="attr">sum</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">school</span>: <span class="string">&quot;雷亚卢卡利亚&quot;</span>,</span><br><span class="line">        <span class="attr">subject</span>: <span class="string">&quot;起源&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">jiaOdd</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (context.<span class="property">state</span>.<span class="property">sum</span> % <span class="number">2</span>) &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&quot;JIAODD&quot;</span>, value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">jiaWait</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&quot;JIAWAIT&quot;</span>, value)</span><br><span class="line">            &#125;, <span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="title function_">JIA</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">            state.<span class="property">sum</span> += value</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">JIAN</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">            state.<span class="property">sum</span> -= value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">JIAODD</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">            state.<span class="property">sum</span> += value</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">JIAWAIT</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">            state.<span class="property">sum</span> += value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">        <span class="title function_">bigSum</span>(<span class="params">state</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//人员相关</span></span><br><span class="line"><span class="keyword">const</span> personAbout = &#123;</span><br><span class="line">    <span class="attr">namespaced</span>: <span class="literal">true</span>, <span class="comment">//开启命名空间</span></span><br><span class="line">    <span class="attr">state</span>: &#123; <span class="attr">personlist</span>: [&#123; <span class="attr">id</span>: <span class="string">&quot;001&quot;</span>, <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span> &#125;] &#125;,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">        <span class="title function_">addwang</span>(<span class="params">context, value</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (value.<span class="property">name</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;王&quot;</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                context.<span class="title function_">commit</span>(<span class="string">&quot;ADDWANG&quot;</span>, value)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;需要姓王&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="title function_">ADD_PERSON</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">            state.<span class="property">personlist</span>.<span class="title function_">unshift</span>(value)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">ADDWANG</span>(<span class="params">state, value</span>) &#123;</span><br><span class="line">            state.<span class="property">personlist</span>.<span class="title function_">unshift</span>(value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">	<span class="attr">getters</span>:&#123;</span><br><span class="line">		<span class="title function_">firstPersonName</span>(<span class="params"></span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="string">&quot;abc&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建并导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>: &#123;</span><br><span class="line">        countAbout,</span><br><span class="line">        personAbout</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>开启命名空间后，组件中读取state数据</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一  直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">personlist</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//借助mapState读取</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&quot;countAbout&quot;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ol start="3">
<li>开启命名空间后，组件中读取getters数据：</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：直接读取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&quot;personAbout/firstPersonName&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二：借助mapGetters读取</span></span><br><span class="line">...<span class="title function_">mapGetters</span>(<span class="string">&quot;countAbout&quot;</span>,[<span class="string">&quot;bigSum&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ol start="4">
<li>开启命名空间后，组件中调用dispatch</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：直接使用dispatch</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;personAbout/addwang&quot;</span>,person)</span><br><span class="line"><span class="comment">//方式二：借助mapActions</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&quot;countAbout&quot;</span>,&#123;<span class="string">&quot;countAbout&quot;</span>:<span class="string">&quot;jiaOdd&quot;</span>,<span class="string">&quot;incrementWait&quot;</span>:<span class="string">&quot;jiaWait&quot;</span>&#125;)</span><br></pre></td></tr></table></div></figure>

<ol start="5">
<li>开启命名空间后，组件中调用commit</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一：直接使用commit</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&quot;personAbount/ADD_PERSON&quot;</span>,person)</span><br><span class="line"><span class="comment">//方式二：借助mapMutations</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&quot;countAbout&quot;</span>,&#123;<span class="attr">increment</span>:<span class="string">&quot;JIA&quot;</span>,<span class="attr">decrement</span>:<span class="string">&quot;JIAN&quot;</span>&#125;)</span><br></pre></td></tr></table></div></figure>


        <h1 id="路由">
          <a href="#路由" class="heading-link"><i class="fas fa-link"></i></a><a href="#路由" class="headerlink" title="路由"></a>路由</h1>
      <p>定义：</p>
<ol>
<li><p>路由就是一组key-value的对应关系</p>
</li>
<li><p>多个路由，需要经过路由器的管理</p>
</li>
</ol>

        <h2 id="vue-router">
          <a href="#vue-router" class="heading-link"><i class="fas fa-link"></i></a><a href="#vue-router" class="headerlink" title="vue-router"></a><font color="green">vue-router</font></h2>
      
        <h3 id="1-SPA">
          <a href="#1-SPA" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-SPA" class="headerlink" title="1. SPA"></a>1. SPA</h3>
      <ol>
<li><p>单页面WEB应用(single page web application,SPA)</p>
</li>
<li><p>整个应用只有一个完整的页面</p>
</li>
<li><p>点击页面中的导航链接不会刷新页面，只会做页面的局部刷新</p>
</li>
<li><p>数据需要通过ajax请求获取</p>
</li>
</ol>

        <h3 id="2-路由-vue-router">
          <a href="#2-路由-vue-router" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-路由-vue-router" class="headerlink" title="2. 路由(vue-router)"></a>2. 路由(vue-router)</h3>
      <p>vue-router是vue的一个插件库，专门用来实现SPA应用</p>
<p><strong>什么是路由</strong></p>
<ol>
<li><p>一个路由就是一组映射关系(key-value)</p>
</li>
<li><p>key为路径，value可能是function或者component</p>
</li>
</ol>
<p><strong>路由分类</strong></p>
<ol>
<li><p>后端路由</p>
<p> 理解：value是function，用于处理客户端提交的请求</p>
<p> 工作过程：服务器接收到一个请求时，根据请求路径找到匹配的函数来处理请求，返回响应数据</p>
</li>
<li><p>前端路由</p>
<p> 理解：value 是component，用于展示页面的内容</p>
<p> 工作过程：当浏览器的路径改变时，对应的组件就会显示</p>
</li>
<li><p>基本使用</p>
</li>
</ol>
<p>(1) 安装vue-router，命令<code>npm i vue-router</code></p>
<p>(2) 应用插件：<code>Vue.use(VueRouter)</code></p>
<p>main.js</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//引入</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="comment">//引入路由器</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router/index&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">    <span class="attr">router</span>: router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></div></figure>

<p>(3) 编写router配置项。src-router-index.js</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//该文件专门用于创建整个应用的路由器</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="comment">//引入路由组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">AboutInfo</span> <span class="keyword">from</span> <span class="string">&quot;../components/AboutInfo&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeInfo</span> <span class="keyword">from</span> <span class="string">&quot;../components/HomeInfo&quot;</span></span><br><span class="line"><span class="comment">//创建并暴露一个路由器，管理一组一组的路由规则</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">AboutInfo</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">HomeInfo</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>(4)实现切换(active-class可以配置高亮样式)</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>(5)指定展示位置</p>
<p><code>&lt;router-view&gt;&lt;/router-view&gt;</code></p>
<p><strong>注意点：</strong></p>
<ol>
<li><p>路由组件通常放在pages文件夹，一般組通常存放在components文件夹</p>
</li>
<li><p>通过切换，“隐藏”了的路由组件，默认是被销毁的，需要的时候再去挂载</p>
</li>
<li><p>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息</p>
</li>
<li><p>整个应用只有一个router，可以通过组件的<code>$router</code>属性获取到</p>
</li>
<li><p><strong>$route和data中的属性平级，所以watch监听路由<code>$route</code>时不用加this</strong></p>
</li>
</ol>

        <h3 id="2-嵌套路由-多级路由">
          <a href="#2-嵌套路由-多级路由" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-嵌套路由-多级路由" class="headerlink" title="2. 嵌套路由(多级路由)"></a>2. 嵌套路由(多级路由)</h3>
      <ol>
<li>配置路由规则，使用children配置项</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">AboutInfo</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">HomeInfo</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123;</span><br><span class="line">            <span class="comment">//子级在内部遍历时自动加入/，所以此处不需要加/符号了(加/会不生效)</span></span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;message&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">MessageInfo</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;news&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">NewsInfo</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="red">注意：子级的path不要加<code>/</code></font></strong></p>
<ol start="2">
<li>跳转：(要写完整路径)</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link <span class="keyword">class</span>=<span class="string">&quot;list-group-item active&quot;</span> to=<span class="string">&quot;/home/news&quot;</span>&gt;<span class="title class_">News</span>&lt;/router-link&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="3-路由的query參數">
          <a href="#3-路由的query參數" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-路由的query參數" class="headerlink" title="3. 路由的query參數"></a>3. 路由的query參數</h3>
      <ol>
<li>傳遞參數：</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;m in messageList&quot;</span> <span class="attr">:key</span> = <span class="string">&quot;m.id&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- 跳转路由并携带query参数，to的字符串写法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;m.id&#125;&amp;title=$&#123;m.title&#125;`&quot;&gt;&#123;&#123;m.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- 跳转路由并携带query参数，to的对象写法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">router-link</span>  <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            path:&#x27;/home/message/detail&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            query:&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                id:m.id,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                title:m.title</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        &#125;&quot;</span>&gt;</span>&#123;&#123;m.title&#125;&#125;<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>接收參數：</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &lt;ul&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>消息编号：&#123;&#123;$route.query.id&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>消息标题：&#123;&#123;$route.query.title&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="4-命名路由">
          <a href="#4-命名路由" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-命名路由" class="headerlink" title="4. 命名路由"></a>4. 命名路由</h3>
      <ol>
<li><p>作用：可以简化路由的跳转</p>
</li>
<li><p>如何使用</p>
</li>
</ol>
<ul>
<li>给路由命名</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">AboutInfo</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">HomeInfo</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123;</span><br><span class="line">            <span class="comment">//子级在内部遍历时自动加入/，所以此处不需要加/符号了</span></span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;message&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">MessageInfo</span>,</span><br><span class="line">            <span class="attr">children</span>: [&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;xiangxi&quot;</span>,</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;detail&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">DetailInfo</span></span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;news&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">NewsInfo</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<ul>
<li>简化跳转</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link  :to=<span class="string">&quot;&#123;</span></span><br><span class="line"><span class="string">    name:&#x27;xiangxi&#x27;,</span></span><br><span class="line"><span class="string">    query:&#123;</span></span><br><span class="line"><span class="string">        id:m.id,</span></span><br><span class="line"><span class="string">        title:m.title</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;&quot;</span>&gt;&#123;&#123;m.<span class="property">title</span>&#125;&#125;&lt;/router-link&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="5-params参数">
          <a href="#5-params参数" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-params参数" class="headerlink" title="5. params参数"></a>5. params参数</h3>
      <ol>
<li>配置路由时，声明接收params参数</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">AboutInfo</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">HomeInfo</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123;</span><br><span class="line">            <span class="comment">//子级在内部遍历时自动加入/，所以此处不需要加/符号了</span></span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;message&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">MessageInfo</span>,</span><br><span class="line">            <span class="attr">children</span>: [&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;xiangxi&quot;</span>,</span><br><span class="line">				<span class="comment">//使用占位符声明接收params参数</span></span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;detail/:id/:title&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">DetailInfo</span></span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;news&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">NewsInfo</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="red">注：如果在路径上使用了占位符但是实际没有传递params参数的话，路径跳转回出现问题，比如此处不显示detail路径，解决方式是加个问号<code>path: &quot;detail/:id?/:title?&quot;</code>,代表可传可不传递</font></strong></p>
<p><strong><font color="red">注：如果加了问号后传递的是空字符串，那么也会有路径不显示问题(detail不显示)，解决方式，空字符串替换为undefined</font></strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&quot;search&quot;</span>,</span><br><span class="line">  <span class="attr">params</span>:&#123;</span><br><span class="line">     <span class="attr">keyWords</span>:<span class="variable language_">this</span>.<span class="property">keyWords</span>||<span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>传递参数</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> &lt;ul&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;m in messageList&quot;</span> <span class="attr">:key</span> = <span class="string">&quot;m.id&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        </span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 跳转路由并携带params参数，to的字符串写法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;router-link :to=&quot;`/home/message/detail/$&#123;m.id&#125;/$&#123;m.title&#125;`&quot;&gt;&#123;&#123;m.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 跳转路由并携带params参数，to的对象写法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-link</span>  <span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        //此处不允许写path，需要是name</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        name:&#x27;xiangxi&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        params:&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            id:m.id,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            title:m.title</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        &#125;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">    &#125;&quot;</span>&gt;</span>&#123;&#123;m.title&#125;&#125;<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong><font color="red">特别注意：路由携带params参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</font></strong></p>
<ol start="3">
<li>接收参数</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;li&gt;消息编号：&#123;&#123;$route.<span class="property">params</span>.<span class="property">id</span>&#125;&#125;&lt;/li&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>消息标题：&#123;&#123;$route.params.title&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>


        <h3 id="6-路由的props配置">
          <a href="#6-路由的props配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-路由的props配置" class="headerlink" title="6. 路由的props配置"></a>6. 路由的props配置</h3>
      <p>作用：讓路由組件更方便的收到參數</p>
<p>哪個路由組件要收到參數就写到哪个组件上</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [ </span><br><span class="line">		&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">HomeInfo</span>,</span><br><span class="line">        <span class="attr">children</span>: [&#123;</span><br><span class="line">            <span class="comment">//子级在内部遍历时自动加入/，所以此处不需要加/符号了</span></span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;message&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">MessageInfo</span>,</span><br><span class="line">            <span class="attr">children</span>: [&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;xiangxi&quot;</span>,</span><br><span class="line">                <span class="attr">path</span>: <span class="string">&quot;detail/:id/:title&quot;</span>,</span><br><span class="line">                <span class="attr">component</span>: <span class="title class_">DetailInfo</span>,</span><br><span class="line">                <span class="comment">//props的第一种写法，值为对象，该对象中的所有key-value都会以props的形式传给Detail组件</span></span><br><span class="line">                <span class="comment">// props: &#123; a: 1, b: &quot;hello&quot; &#125;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//props的第二种写法，值为布尔值,若布尔值为真，就会把该路由组件收到的所有params参数，以props的形式传给Detail组件</span></span><br><span class="line">                <span class="comment">// props: true</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">//props的第三种写法，值为函数,該函數返回的對象中每一組key-value都傳給Detail組件</span></span><br><span class="line">                <span class="title function_">props</span>(<span class="params">$route</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        <span class="attr">id</span>: $route.<span class="property">query</span>.<span class="property">id</span>,</span><br><span class="line">                        <span class="attr">title</span>: $route.<span class="property">query</span>.<span class="property">title</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>接收：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>:[<span class="string">&quot;id&quot;</span>,<span class="string">&quot;title&quot;</span>]</span><br></pre></td></tr></table></div></figure>


        <h3 id="7-lt-router-link-gt-的replace属性">
          <a href="#7-lt-router-link-gt-的replace属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-lt-router-link-gt-的replace属性" class="headerlink" title="7. &lt;router-link&gt;的replace属性"></a>7. <code>&lt;router-link&gt;</code>的replace属性</h3>
      <ol>
<li><p>作用：控制路由跳转时操作浏览器历史记录的模式</p>
</li>
<li><p>浏览器的历史记录有两种写入方式，分别为push和replace，push是追加历史记录，replace是替换<strong>当前记录</strong>，路由跳转时候默认为push</p>
</li>
<li><p>如何开启replace模式：</p>
</li>
</ol>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:replace</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 或者 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">replace</span> <span class="attr">class</span>=<span class="string">&quot;list-group-item&quot;</span> <span class="attr">active-class</span>=<span class="string">&quot;active&quot;</span> <span class="attr">to</span>=<span class="string">&quot;/home&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="8-编程式路由导航">
          <a href="#8-编程式路由导航" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-编程式路由导航" class="headerlink" title="8.编程式路由导航"></a>8.编程式路由导航</h3>
      <ol>
<li><p>作用：不借助<code>&lt;router-link&gt;</code>实现路由跳转，让路由跳转更加灵活</p>
</li>
<li><p>编码：</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&quot;pushShow(m)&quot;</span>&gt;push查看&lt;/button&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;replaceShow(m)&quot;</span>&gt;</span>replace查看<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="title function_">pushShow</span>(<span class="params">m</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;xiangxi&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>:&#123;</span><br><span class="line">            <span class="attr">id</span>:m.<span class="property">id</span>,</span><br><span class="line">            <span class="attr">title</span>:m.<span class="property">title</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">replaceShow</span>(<span class="params">m</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;xiangxi&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>:&#123;</span><br><span class="line">            <span class="attr">id</span>:m.<span class="property">id</span>,</span><br><span class="line">            <span class="attr">title</span>:m.<span class="property">title</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>()	<span class="comment">//后退</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>()	<span class="comment">//前进</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>(-<span class="number">2</span>)	<span class="comment">//负数为后退，正数为前进。是几就走几步</span></span><br></pre></td></tr></table></div></figure>


        <h3 id="9-缓存路由组件">
          <a href="#9-缓存路由组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#9-缓存路由组件" class="headerlink" title="9.缓存路由组件"></a>9.缓存路由组件</h3>
      <ol>
<li><p>作用：让不展示的路由组件保持挂载，不被销毁</p>
</li>
<li><p>具体编码：</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=<span class="string">&quot;NewsInfo&quot;</span>&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></div></figure>

<p>include里写的是缓存哪些组件。值为组件名。即组件内部的name。</p>
<p><strong>缓存多个写法：</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive :include=<span class="string">&quot;[&#x27;NewsInfo&#x27;,&#x27;MessageInfo&#x27;]&quot;</span>&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="10-两个新的生命周期钩子">
          <a href="#10-两个新的生命周期钩子" class="heading-link"><i class="fas fa-link"></i></a><a href="#10-两个新的生命周期钩子" class="headerlink" title="10. 两个新的生命周期钩子"></a>10. 两个新的生命周期钩子</h3>
      <ol>
<li><p>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态</p>
</li>
<li><p>具体名字</p>
<p> <code>activated</code>路由组件被激活时触发</p>
<p> <code>deactivated</code>路由组件失活时触发</p>
</li>
</ol>
<p>实际用途：如果路由组件被缓存，那么再切换组件后就不会再执行mounted和beforeDestroy，一些处理就需要在这两个钩子中执行，如开启清除定时器</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//激活</span></span><br><span class="line"><span class="title function_">activated</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;news组件被激活&quot;</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;@&quot;</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">opacity</span>-=<span class="number">0.01</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">opacity</span>&lt;=<span class="number">0</span>) <span class="variable language_">this</span>.<span class="property">opacity</span>=<span class="number">1</span></span><br><span class="line">    &#125;, <span class="number">16</span>);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//失活</span></span><br><span class="line"><span class="title function_">deactivated</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;news组件失活&quot;</span>)</span><br><span class="line">    <span class="built_in">clearInterval</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>


        <h2 id="路由守卫">
          <a href="#路由守卫" class="heading-link"><i class="fas fa-link"></i></a><a href="#路由守卫" class="headerlink" title="路由守卫"></a><font color="green">路由守卫</font></h2>
      
        <h3 id="1-全局路由守卫">
          <a href="#1-全局路由守卫" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-全局路由守卫" class="headerlink" title="1. 全局路由守卫"></a>1. 全局路由守卫</h3>
      <ol>
<li><p>作用：对<strong>路由</strong>进行权限控制</p>
</li>
<li><p>分类：全局守卫，独享守卫，组件内守卫</p>
</li>
<li><p>全局守卫</p>
</li>
</ol>
<p>路由配置</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;guanyu&quot;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">AboutInfo</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;关于&quot;</span>,<span class="attr">isAuth</span>:<span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//全局前置路由守卫--初始化的时候被调用、每次路由切换之前被调用</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;	<span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;school&quot;</span>) === <span class="string">&quot;清华大学&quot;</span>) &#123;	<span class="comment">//权限控制的具体规则</span></span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;您没有权限&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>()	<span class="comment">//放行</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//全局后置路由守卫--初始化的时候被调用、每次路由切换之后被调用</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">title</span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span>	<span class="comment">//修改网页title</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&quot;vue-test&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>from是从哪里来，to是到哪里去。他们都是对象，存储的只是对应路由的信息（配置时的那些信息），并非路由组件实例对象</p>
<p><strong>meta属性：是一个对象，可以自定义一些数据(元数据)</strong></p>

        <h3 id="2-独享路由守卫">
          <a href="#2-独享路由守卫" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-独享路由守卫" class="headerlink" title="2. 独享路由守卫"></a>2. 独享路由守卫</h3>
      <p>只对该路由组件生效，点击该组件进行切换，在切换到该路由组件之前调用</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;guanyu&quot;</span>,</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">AboutInfo</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;关于&quot;</span>,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">beforeEnter</span>: <span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(to)</span><br><span class="line">        <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;school&quot;</span>) === <span class="string">&quot;清华大学&quot;</span>) &#123;</span><br><span class="line">                <span class="title function_">next</span>()</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;无权限&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>


        <h3 id="3-组件内路由守卫">
          <a href="#3-组件内路由守卫" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-组件内路由守卫" class="headerlink" title="3. 组件内路由守卫"></a>3. 组件内路由守卫</h3>
      <p><strong>进入之前和离开之前，需要区别于前置和后置</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&quot;AboutInfo&quot;</span>,</span><br><span class="line">	<span class="comment">//通过路由规则，进入该组件时被调用</span></span><br><span class="line">	beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">	  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">isAuth</span>) &#123;</span><br><span class="line">	      <span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;school&quot;</span>) === <span class="string">&quot;清华大学&quot;</span>) &#123;</span><br><span class="line">	          <span class="title function_">next</span>()</span><br><span class="line">	      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	          <span class="title function_">alert</span>(<span class="string">&quot;无权限&quot;</span>)</span><br><span class="line">	      &#125;</span><br><span class="line">	  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	      <span class="title function_">next</span>()</span><br><span class="line">	  &#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">//通过路由规则，离开该组件时调用</span></span><br><span class="line">	beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">	  <span class="title function_">next</span>()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="4-路由器的两种工作模式">
          <a href="#4-路由器的两种工作模式" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-路由器的两种工作模式" class="headerlink" title="4. 路由器的两种工作模式"></a>4. 路由器的两种工作模式</h3>
      <ol>
<li><p>对于一个url来说，什么是hash值？ —- <code>#及其后面的内容就是hash值</code></p>
</li>
<li><p>hash值不会包含在HTTP请求中，即：hash值不会带给服务器</p>
</li>
<li><p>hash模式：</p>
<ul>
<li><p>地址中永远带着#号，不美观</p>
</li>
<li><p>若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法</p>
</li>
<li><p>兼容性较好</p>
</li>
</ul>
</li>
<li><p>history模式</p>
<ul>
<li><p>地址干净 没管</p>
</li>
<li><p>兼容性和hash模式相比略差</p>
</li>
<li><p>应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题</p>
</li>
</ul>
</li>
</ol>
<p><strong>部署：</strong></p>
<ol>
<li><p>项目运行指令<code>npm run bulid</code></p>
</li>
<li><p>将生成的dist文件夹内的内容复制到服务器静态资源内。如node中放在static中，且要配置静态资源地址</p>
</li>
</ol>
<p><code>app.use(express.static(__dirname + &quot;/static&quot;))</code></p>

        <h1 id="Vue-UI组件库">
          <a href="#Vue-UI组件库" class="heading-link"><i class="fas fa-link"></i></a><a href="#Vue-UI组件库" class="headerlink" title="Vue UI组件库"></a>Vue UI组件库</h1>
      
        <h2 id="移动端常用UI组件库">
          <a href="#移动端常用UI组件库" class="heading-link"><i class="fas fa-link"></i></a><a href="#移动端常用UI组件库" class="headerlink" title="移动端常用UI组件库"></a><font color="green">移动端常用UI组件库</font></h2>
      <ol>
<li><p>Vant <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://youzan.github.io/vant" title="Vant">https://youzan.github.io/vant</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
<li><p>Cube UI  <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://didi.github.io/cube-ui" title="Cube UI">https://didi.github.io/cube-ui</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
<li><p>Mint UI    <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://mint-ui.github.io/" title="Mint UI">http://mint-ui.github.io</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
</ol>

        <h2 id="PC端常用UI组件库">
          <a href="#PC端常用UI组件库" class="heading-link"><i class="fas fa-link"></i></a><a href="#PC端常用UI组件库" class="headerlink" title="PC端常用UI组件库"></a><font color="green">PC端常用UI组件库</font></h2>
      <ol>
<li><p>Element UI    <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://element.eleme.cn/" title="Element UI">https://element.eleme.cn</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
<li><p>IView UI    <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.iviewui.com/" title="IView UI">https://www.iviewui.com</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
</ol>

        <h1 id="Vue3">
          <a href="#Vue3" class="heading-link"><i class="fas fa-link"></i></a><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h1>
      
        <h2 id="創建工程">
          <a href="#創建工程" class="heading-link"><i class="fas fa-link"></i></a><a href="#創建工程" class="headerlink" title="創建工程"></a><font color="green">創建工程</font></h2>
      
        <h3 id="1-使用vue-cli創建工程">
          <a href="#1-使用vue-cli創建工程" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-使用vue-cli創建工程" class="headerlink" title="1. 使用vue-cli創建工程"></a>1. 使用vue-cli創建工程</h3>
      <ol>
<li>官方文檔：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">## 查看@vue/cli版本，确保@vue/cli版本在<span class="number">4.5</span><span class="number">.0</span>以上</span><br><span class="line">vue --version</span><br><span class="line"></span><br><span class="line">## 如果版本不对，安装或者升级你的@vue/cli</span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"></span><br><span class="line">## 创建</span><br><span class="line">vue create vue_test</span><br><span class="line"></span><br><span class="line">## 启动</span><br><span class="line">cd vue_test</span><br><span class="line">npm run serve</span><br></pre></td></tr></table></div></figure>


        <h3 id="2-使用vite创建">
          <a href="#2-使用vite创建" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-使用vite创建" class="headerlink" title="2. 使用vite创建"></a>2. 使用vite创建</h3>
      <p>官方文档：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>vite官网：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://vitejs.cn/">https://vitejs.cn</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<pre><code>* 什么是vite -- 新一代前端构建工具

* 优势如下：

    *    开发环境中，无需打包操作，可快速的冷启动

    *    轻量快速的热重载(HMR)

    *    真正的按需编译，不再等待整个应用编译完成
</code></pre>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">## 创建工程</span><br><span class="line"></span><br><span class="line">npm init vite-app &lt;project-name&gt;</span><br><span class="line"></span><br><span class="line">## 进入工程目录</span><br><span class="line"></span><br><span class="line">cd &lt;project-name&gt;</span><br><span class="line"></span><br><span class="line">## 安装依赖</span><br><span class="line"></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">## 运行</span><br><span class="line"></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></div></figure>


        <h2 id="常用Composition-API">
          <a href="#常用Composition-API" class="heading-link"><i class="fas fa-link"></i></a><a href="#常用Composition-API" class="headerlink" title="常用Composition API"></a><font color="green">常用Composition API</font></h2>
      <p>官方文档: <span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h3 id="1-setup">
          <a href="#1-setup" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-setup" class="headerlink" title="1. setup"></a>1. setup</h3>
      <ol>
<li><p>理解：Vue3.0中一个新的配置项，值为一个函数</p>
</li>
<li><p>setup是所有Composition API(组合API)“表演的舞台”</p>
</li>
<li><p>组件中所用到的：数据、方法等等，均瑶配置在setup中</p>
</li>
<li><p>setup函数的两种返回值：</p>
<ol>
<li>若返回一个对象，则对象中的属性、方法、在模板中均可以直接使用。（重点）</li>
</ol>
 <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">&quot;张三&quot;</span></span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">18</span></span><br><span class="line">	</span><br><span class="line">  <span class="comment">//方法</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">`我叫<span class="subst">$&#123;name&#125;</span>，我<span class="subst">$&#123;age&#125;</span>岁了，你好哇！`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">	</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name,age,sayHello</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>若返回一个渲染函数：则可以自定义渲染内容。（了解</li>
</ol>
 <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">return</span> <span class="function">()=&gt;</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="title function_">h</span>(<span class="string">&quot;h1&quot;</span>,<span class="string">&quot;test&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//页面显示的是h1标签包裹的test</span></span><br></pre></td></tr></table></div></figure></li>
<li><p>注意点：</p>
<ol>
<li><p>尽量不要与Vue2.x配置混用</p>
<ul>
<li><p>Vue2.x配置(data&#x2F;methods&#x2F;computed…)中可以访问到setup中的属性、方法。</p>
</li>
<li><p>但在setup中不能访问到Vue2.x配置(data、methods、computed…)</p>
</li>
<li><p>如果2和3中配置重名，以后一个为准</p>
</li>
</ul>
</li>
<li><p>setup不能是一个async函数，因为返回值不再是return的对象，而是promise，模板看不到return对象中的属性(后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合)</p>
</li>
</ol>
</li>
</ol>

        <h3 id="2-ref函数">
          <a href="#2-ref函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-ref函数" class="headerlink" title="2. ref函数"></a>2. ref函数</h3>
      <ol>
<li><p>作用：定义一个响应式的数据</p>
</li>
<li><p>语法：<code>const xxx = ref(initValue)</code></p>
<ul>
<li><p>创建一个包含响应式数据的引用对象（reference对象）</p>
</li>
<li><p>JS中操作数据：<code>xxx.value</code></p>
</li>
<li><p>模板中读取数据：不需要<code>.value</code>，直接<code>&#123;&#123;xxx&#125;&#125;</code>。vue会自动加上<code>.value</code>读取</p>
</li>
</ul>
</li>
<li><p>备注：</p>
<ul>
<li><p>接收的数据可以是：基本类型，也可以是对象类型</p>
</li>
<li><p>基本类型的数据，响应式依然是靠<code>Object.defineProperty()</code>的get与set完成的</p>
</li>
<li><p>对象类型的数据：内部“求助”了Vue3.0中的一个新函数–<code>reactive</code>函数</p>
</li>
</ul>
</li>
</ol>
<p><strong>处理基本类型</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="title function_">ref</span>(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line">  <span class="keyword">let</span> age = <span class="title function_">ref</span>(<span class="number">18</span>)</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">changeInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">    name.<span class="property">value</span>=<span class="string">&quot;李四&quot;</span>,</span><br><span class="line">    age.<span class="property">value</span> = <span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name,age,changeInfo</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>

<p><strong>处理对象类型</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> job = <span class="title function_">ref</span>(&#123;</span><br><span class="line">  <span class="attr">type</span>:<span class="string">&quot;前端工程师&quot;</span>,</span><br><span class="line">  <span class="attr">salary</span>:<span class="string">&#x27;30K&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">  job.<span class="property">value</span>.<span class="property">type</span> = <span class="string">&quot;UI工程师&quot;</span></span><br><span class="line">  job.<span class="property">value</span>.<span class="property">salary</span> = <span class="string">&quot;70K&quot;</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="reactive函数">
          <a href="#reactive函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#reactive函数" class="headerlink" title="reactive函数"></a>reactive函数</h3>
      <ol>
<li><p>作用：定义一个<strong>对象类型</strong>的响应式数据（基本类型不要用它，用ref函数）</p>
</li>
<li><p>语法：<code>const 代理对象 = reactive(源对象)</code>接收一个对象（或数组），返回一个代理对象（Proxy的实例对象，简称proxy对象）</p>
</li>
<li><p>reactive定义的响应式数据是“深层次的”</p>
</li>
<li><p>内部基于ES6的Proxy实现，通过代理对象操作源对象内部数据进行操作</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> job = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">  <span class="attr">type</span>:<span class="string">&quot;前端工程师&quot;</span>,</span><br><span class="line">  <span class="attr">salary</span>:<span class="string">&#x27;30K&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> hobby = <span class="title function_">reactive</span>([<span class="string">&quot;游戏&quot;</span>,<span class="string">&quot;运动&quot;</span>,<span class="string">&quot;美食&quot;</span>])</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">  job.<span class="property">type</span> = <span class="string">&quot;UI工程师&quot;</span></span><br><span class="line">  job.<span class="property">salary</span> = <span class="string">&quot;70K&quot;</span></span><br><span class="line">  hobby[<span class="number">0</span>] = <span class="string">&quot;学习&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>


        <h3 id="3-Vue3响应式原理">
          <a href="#3-Vue3响应式原理" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-Vue3响应式原理" class="headerlink" title="3. Vue3响应式原理"></a>3. Vue3响应式原理</h3>
      <p>实现原理：</p>
<ul>
<li><p>通过Proxy(代理)：拦截代理对象中任意属性的变化，包括：属性值的读写、属性的添加、属性的删除等</p>
</li>
<li><p>通过Reflect(反射)：对被代理对象（源对象）的属性进行操作。</p>
</li>
<li><p>MDN文档中描述关于Proxy和Reflect</p>
<ul>
<li><p>Proxy：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects&#x2F;Proxy</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
<li><p>Reflect:<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects&#x2F;Reflect</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;张三&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Proxy</span>(person,&#123;</span><br><span class="line">    <span class="comment">//有人读取p的某个属性时调用</span></span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target,propName</span>)&#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">`有人读取了p身上得到<span class="subst">$&#123;propName&#125;</span>属性`</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target,propName)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//有人修改p的某个属性，或给p追加某个属性时调用</span></span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target,propName,value</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">`有人修改了p身上的<span class="subst">$&#123;propName&#125;</span>属性`</span>)</span><br><span class="line">        <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target,propName,value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//有人删除p的某个属性时调用</span></span><br><span class="line">    <span class="title function_">deleteProperty</span>(<span class="params">target,propName</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">`有人删除了p身上的<span class="subst">$&#123;propName&#125;</span>`</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target,propName)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>


        <h3 id="4-reactive对比ref">
          <a href="#4-reactive对比ref" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-reactive对比ref" class="headerlink" title="4. reactive对比ref"></a>4. reactive对比ref</h3>
      <ul>
<li><p>从定义数据角度对比</p>
<ul>
<li><p>ref用来定义：基本类型数据</p>
</li>
<li><p>reactive用来定义：对象（或数组）类型数据</p>
</li>
<li><p>备注：ref也可以用来定义对象（或数组）类型数据，它内部会自动通过reactive转为代理对象</p>
</li>
</ul>
</li>
<li><p>从原理角度对比</p>
<ul>
<li><p>ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）</p>
</li>
<li><p>reactive通过使用Proxy来实现响应式（数据劫持），并通过Reflect操作源对象内部的数据</p>
</li>
</ul>
</li>
<li><p>从使用角度对比</p>
<ul>
<li><p>ref定义的数据：操作数据需要<code>.value</code>，读取数据时模板中直接读取不需要<code>.value</code></p>
</li>
<li><p>reactive定义的数据：操作数据与读取数据：均不需要<code>.value</code></p>
</li>
</ul>
</li>
</ul>
<p><strong>注意：如果往reactive定义的对象中后天添加属性（即使该属性是一个对象），那么它也自动变成响应式的</strong></p>

        <h3 id="5-setup的两个注意点">
          <a href="#5-setup的两个注意点" class="heading-link"><i class="fas fa-link"></i></a><a href="#5-setup的两个注意点" class="headerlink" title="5. setup的两个注意点"></a>5. setup的两个注意点</h3>
      <ul>
<li><p>setup执行的时机</p>
<ul>
<li>在beforeCreate之前执行一次，this是undefined</li>
</ul>
</li>
<li><p>setup的参数</p>
<ol>
<li><p>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性<code>props:[&quot;msg&quot;]</code></p>
</li>
<li><p>context:上下文对象：</p>
<ul>
<li><p>attrs：值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性，相当于vue2中的<code>$attrs</code></p>
</li>
<li><p>slots：收到的插槽内容，相当于2中的<code>this.$slots</code></p>
</li>
<li><p>emit：分发自定义事件的函数，相当于vue2中的<code>this.$emit</code>.(注：vue3中，触发自定义事件要先配置出<code>emits:[&#39;hello&#39;]</code>)</p>
</li>
</ul>
</li>
</ol>
</li>
</ul>

        <h3 id="6-计算属性">
          <a href="#6-计算属性" class="heading-link"><i class="fas fa-link"></i></a><a href="#6-计算属性" class="headerlink" title="6. 计算属性"></a>6. 计算属性</h3>
      <ol>
<li><p>与Vue2.x中computed配置功能一致</p>
</li>
<li><p>写法：</p>
</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;computed,reactive&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">     <span class="attr">firstName</span>:<span class="string">&quot;张&quot;</span>,</span><br><span class="line">     <span class="attr">lastName</span>:<span class="string">&quot;三&quot;</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="comment">//计算属性（没有考虑计算属性被修改的情况）</span></span><br><span class="line">  <span class="comment">//  person.fullName = computed(()=&gt;&#123;</span></span><br><span class="line">  <span class="comment">//    return person.firstName+&quot;-&quot;+person.lastName</span></span><br><span class="line">  <span class="comment">//  &#125;)</span></span><br><span class="line">  <span class="comment">//计算属性（完整写法）</span></span><br><span class="line">  person.<span class="property">fullName</span> = <span class="title function_">computed</span>(&#123;</span><br><span class="line">     <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> person.<span class="property">firstName</span>+<span class="string">&quot;-&quot;</span>+person.<span class="property">lastName</span></span><br><span class="line">    &#125;,<span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="keyword">const</span> nameArr = value.<span class="title function_">split</span>(<span class="string">&quot;-&quot;</span>)</span><br><span class="line">      person.<span class="property">firstName</span> = nameArr[<span class="number">0</span>]</span><br><span class="line">      person.<span class="property">lastName</span> = nameArr[<span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;person&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>注：Vue2的计算属性写法也可以应用到Vue3，且可以访问到setup中的响应式数据，但不推荐这么做</p>

        <h3 id="7-Watch监视">
          <a href="#7-Watch监视" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-Watch监视" class="headerlink" title="7. Watch监视"></a>7. Watch监视</h3>
      <ul>
<li><p>与Vue2.x中watch配置功能一致：</p>
</li>
<li><p>两个“小坑”</p>
<ol>
<li><p>监视reactive定义的响应式数据时：oldValue无法正常读取、并强制开启了深度监视(deep配置失效)</p>
</li>
<li><p>监视reactive定义的响应式数据中某个(对象)属性时：deep配置有效</p>
</li>
</ol>
</li>
</ul>
<p>语法：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">watch</span>(监视属性,监视回调,监视配置)</span><br><span class="line"></span><br><span class="line"><span class="title function_">watch</span>(sum,<span class="function">()=&gt;</span>&#123;&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br></pre></td></tr></table></div></figure>

<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive, ref,watch&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">   <span class="keyword">let</span> msg = <span class="title function_">ref</span>(<span class="string">&quot;你好啊&quot;</span>)</span><br><span class="line">   <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">     <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">     <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">     <span class="attr">job</span>:&#123;</span><br><span class="line">       <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="comment">//情况一：监视ref所定义的一个响应式数据</span></span><br><span class="line">   <span class="comment">// watch(sum,(newValue,oldValue)=&gt;&#123;</span></span><br><span class="line">   <span class="comment">//   console.log(&quot;sum变了&quot;,newValue,oldValue)</span></span><br><span class="line">   <span class="comment">// &#125;,&#123;</span></span><br><span class="line">   <span class="comment">//   immediate:true,</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//情况二：监视ref所定义的多个响应式数据</span></span><br><span class="line">   <span class="comment">// watch([sum,msg],(newValue,oldValue)=&gt;&#123;</span></span><br><span class="line">   <span class="comment">//   console.log(&quot;msg或者sum改变了&quot;,newValue[0],oldValue[0])</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 情况三：监视reactive所定义的一个响应式数据的全部属性</span></span><br><span class="line"><span class="comment">    * 1. 注意：此处无法正确的获取oldValue</span></span><br><span class="line"><span class="comment">    * 2. 注意：强制开启了深度监视（deep配置无效）</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// watch(person,(newValue,oldValue)=&gt;&#123;</span></span><br><span class="line">   <span class="comment">//   console.log(&quot;person发生变化&quot;)</span></span><br><span class="line">   <span class="comment">//   console.log(newValue,oldValue)</span></span><br><span class="line">   <span class="comment">// &#125;,&#123;deep:false&#125;)  //此处监视的是reactive所定义的对象，深度监视强制开启，故此处deep配置无效</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//情况四：监视reactive所定义的一个响应式数据中的某个属性</span></span><br><span class="line">   <span class="comment">// watch(()=&gt;person.age,(newValue,oldValue)=&gt;&#123;</span></span><br><span class="line">   <span class="comment">//   console.log(&quot;person中的age发生变化&quot;)</span></span><br><span class="line">   <span class="comment">//   console.log(newValue,oldValue)</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//情况五：监视reactive所定义的一个响应式数据中的某些属性</span></span><br><span class="line">   <span class="comment">// watch([()=&gt;person.age,()=&gt;person.name],(newValue,oldValue)=&gt;&#123;</span></span><br><span class="line">   <span class="comment">//   console.log(&quot;person中的age或者name发生变化&quot;)</span></span><br><span class="line">   <span class="comment">//   console.log(newValue,oldValue)</span></span><br><span class="line">   <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//特殊情况：</span></span><br><span class="line">   <span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;person中的job发生变化&quot;</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue,oldValue)</span><br><span class="line">   &#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;)  <span class="comment">//此处由于监视的是reactive所定义的对象中的某个属性，所有deep配置有效</span></span><br><span class="line">   <span class="keyword">return</span> &#123;sum,msg,person&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="8-watch时value问题">
          <a href="#8-watch时value问题" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-watch时value问题" class="headerlink" title="8. watch时value问题"></a>8. watch时value问题</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line"><span class="title function_">watch</span>(sum,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;sum变了&quot;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;</span><br><span class="line">  <span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>此处监视的属性不需要<code>.value</code>，因为要监视的是响应式数据，如果<code>.value</code>就会变成基本类型，如<code>0</code>，无法监视</p>
<p>也就是说可以直接监视到sum中value的变化</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="title function_">ref</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">  <span class="attr">job</span>:&#123;</span><br><span class="line">    <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">watch</span>(person.<span class="property">value</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;sum变了&quot;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;</span><br><span class="line">  <span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">watch</span>(person,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;sum变了&quot;</span>,newValue,oldValue)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<p>person是refimpl实例对象，可以监视到value的变化，value是reactive生成的Proxy对象。不能直接监视到value内部属性的变化。需要开启深度监视。或者直接监视person.value</p>

        <h3 id="9-watchEffect函数">
          <a href="#9-watchEffect函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#9-watchEffect函数" class="headerlink" title="9. watchEffect函数"></a>9. watchEffect函数</h3>
      <ul>
<li><p>watch:既要志明监视的属性，也要指明监视的回调</p>
</li>
<li><p>watchEffect：不用指明监视哪个属性、监视的回调中用到哪个属性，那就监视哪个属性</p>
</li>
<li><p>watchEffect有点像computed</p>
<ul>
<li><p>单computed注重的计算出来的值（回调函数的返回值）,所以必须要写返回值</p>
</li>
<li><p>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> x1 = sum.<span class="property">value</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;watchEffect所指定的回调执行&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>



        <h3 id="10-Vue3-生命周期">
          <a href="#10-Vue3-生命周期" class="heading-link"><i class="fas fa-link"></i></a><a href="#10-Vue3-生命周期" class="headerlink" title="10. Vue3 生命周期"></a>10. Vue3 生命周期</h3>
      <p>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有两个被更名</p>
<ul>
<li><p><code>beforeDestroy</code>改名为<code>beforeUnmount</code></p>
</li>
<li><p><code>destroyed</code>改名为<code>unmounted</code></p>
</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过配置项的形式使用声明周期钩子</span></span><br><span class="line">   <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---beforeCreate---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---created---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">beforeMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---beforeMount---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---mounted---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">beforeUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---beforeUpdate---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">updated</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---updated---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">beforeUnmount</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---beforeUnmount---&quot;</span>)</span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="title function_">unmounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;---unmounted---&quot;</span>)</span><br><span class="line">   &#125;,</span><br></pre></td></tr></table></div></figure>

<p>Vue3.0也提供了Composition API形式的生命周期钩子，与Vue2.x中钩子对应关系：</p>
<p><code>beforeCreate</code> &#x3D;&#x3D;&gt; <code>setup()</code></p>
<p><code>created</code> &#x3D;&#x3D;&gt; <code>setup()</code></p>
<p><code>beforeMount</code> &#x3D;&#x3D;&gt; <code>onBeforeMount</code></p>
<p><code>mounted</code> &#x3D;&#x3D;&gt; <code>onMounted</code></p>
<p><code>beforeUpdate</code> &#x3D;&#x3D;&gt; <code>onBeforeUpdate</code></p>
<p><code>updated</code> &#x3D;&#x3D;&gt; <code>onUpdated</code></p>
<p><code>beforeUnmount</code> &#x3D;&#x3D;&gt; <code>onBeforeUnmount</code></p>
<p><code>unmounted</code> &#x3D;&#x3D;&gt; <code>onUnmounted</code></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; ref,onBeforeMount,onMounted,onBeforeUpdate,onUpdated,onBeforeUnmount,onUnmounted &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">    <span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">		<span class="comment">//未提供beforeCreate、created的组合式API</span></span><br><span class="line">        <span class="keyword">let</span> sum = <span class="title function_">ref</span>(<span class="number">0</span>)</span><br><span class="line">        <span class="title function_">onBeforeMount</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">           <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--- onBeforeMount ---&quot;</span>)     </span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="title function_">onMounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--- onMounted ---&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="title function_">onBeforeUpdate</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--- onBeforeUpdate ---&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="title function_">onUpdated</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--- onUpdated ---&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="title function_">onBeforeUnmount</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--- onBeforeUnmount ---&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="title function_">onUnmounted</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;--- onUnmounted ---&quot;</span>)</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> &#123;sum&#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></div></figure>


        <h3 id="11-自定义hook函数">
          <a href="#11-自定义hook函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#11-自定义hook函数" class="headerlink" title="11. 自定义hook函数"></a>11. 自定义hook函数</h3>
      <ul>
<li><p>本质是一个函数，把setup函数中使用的Composition API进行了封装</p>
</li>
<li><p>类似于vue2.x中的mixin</p>
</li>
<li><p>自定义hook的优势：复用代码，让setup中的逻辑更清楚易懂</p>
</li>
</ul>
<ol>
<li>src下创建hooks文件夹，创建usePoint.js文件</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; reactive, onMounted, onBeforeUnmount &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//实现鼠标“打点”相关的数据</span></span><br><span class="line">    <span class="keyword">let</span> point = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">            <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">0</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//实现鼠标“打点”相关的方法</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">savePoint</span>(<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;savePoint&quot;</span>)</span><br><span class="line">        point.<span class="property">x</span> = event.<span class="property">pageX</span></span><br><span class="line">        point.<span class="property">y</span> = event.<span class="property">pageY</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//实现鼠标“打点”相关的生命周期钩子</span></span><br><span class="line">    <span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title function_">onBeforeUnmount</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;click&quot;</span>, savePoint)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> point</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


<ol start="2">
<li>组件调用：</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> usePoint <span class="keyword">from</span> <span class="string">&quot;../hooks/usePoint&quot;</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">let</span> point = <span class="title function_">usePoint</span>()</span><br><span class="line">	<span class="keyword">return</span> &#123;sum,point&#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>


        <h3 id="12-toRef">
          <a href="#12-toRef" class="heading-link"><i class="fas fa-link"></i></a><a href="#12-toRef" class="headerlink" title="12. toRef"></a>12. toRef</h3>
      <ul>
<li><p>作用：创建一个ref对象，其value值指向另一个对象中的某个属性</p>
</li>
<li><p>语法：<code>const name = toRef(person,&quot;name&quot;)</code></p>
</li>
<li><p>应用：要将响应式对象中的某个属性单独提供给外部使用时且不丢失响应式</p>
</li>
<li><p>扩展：<code>toRefs</code>与<code>toRef</code>功能一致，但可以批量创建多个ref对象，语法：<code>toRefs(person)</code></p>
</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive, toRef,toRefs&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">       <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">       <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">       <span class="attr">job</span>:&#123;</span><br><span class="line">           <span class="attr">j1</span>:&#123;</span><br><span class="line">               <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> name1 = <span class="title function_">toRef</span>(person.<span class="property">name</span>)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(name1)</span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">       <span class="attr">name</span>:<span class="title function_">toRef</span>(person,<span class="string">&quot;name&quot;</span>),</span><br><span class="line">       <span class="attr">age</span>:<span class="title function_">toRef</span>(person,<span class="string">&quot;age&quot;</span>),</span><br><span class="line">       <span class="attr">salary</span>:<span class="title function_">toRef</span>(person.<span class="property">job</span>.<span class="property">j1</span>,<span class="string">&quot;salary&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></div></figure>

<p>这样写name的值就指向了person中的name，变成了响应式的数据。如果直接写</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">	<span class="attr">name</span>:person.<span class="property">name</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>那么该name只是单纯赋了值，并非响应式数据，如果写成</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="title function_">ref</span>(person.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>那么其实是重新定义ref数据，后续无法对原数据进行修改</p>
<p><strong>toRefs</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">toRefs</span>(person))</span><br></pre></td></tr></table></div></figure>

<p>批量生成ref数据，person中的属性都变成了ObjectRefImpl类型数据。指向了原Proxy对象的对应属性，返回时可以使用<code>...</code></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>姓名：&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>年龄：&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>薪资：&#123;&#123;salary&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">	...<span class="title function_">toRefs</span>(person),...<span class="title function_">toRefs</span>(person.<span class="property">job</span>.<span class="property">j1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="13-shallowReactive和shallowRef">
          <a href="#13-shallowReactive和shallowRef" class="heading-link"><i class="fas fa-link"></i></a><a href="#13-shallowReactive和shallowRef" class="headerlink" title="13. shallowReactive和shallowRef"></a>13. shallowReactive和shallowRef</h3>
      <ul>
<li><p>shallowReactive：只处理对象最外层属性的响应式(浅响应式)</p>
</li>
<li><p>shallowRef：只处理基本数据类型的响应式，不进行对象的响应式处理</p>
</li>
<li><p>什么时候使用？</p>
<ul>
<li><p>如果有一个对象数据，结构比较深，但变化时只是外层属性变化&#x3D;&#x3D;&#x3D;》 shallowReactive</p>
</li>
<li><p>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 &#x3D;&#x3D;&#x3D;》shallowRef</p>
</li>
</ul>
</li>
</ul>

        <h3 id="14-readonly和shallowReadonly">
          <a href="#14-readonly和shallowReadonly" class="heading-link"><i class="fas fa-link"></i></a><a href="#14-readonly和shallowReadonly" class="headerlink" title="14. readonly和shallowReadonly"></a>14. readonly和shallowReadonly</h3>
      <ul>
<li><p>readonly：让一个响应式数据变为只读的（深只读）</p>
</li>
<li><p>shallowReadonly：让一个响应式数据变成只读的（浅只读）</p>
<p>  如果应用到reactive数据上，那么不影响二层结构，如果应用到ref数据上，如果ref内是对象的话就不影响。</p>
</li>
</ul>
<p>使用：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;reactive,ref,shallowReadonly,readonly&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">   <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">   <span class="attr">job</span>:&#123;</span><br><span class="line">       <span class="attr">j1</span>:&#123;</span><br><span class="line">           <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line">person = <span class="title function_">readonly</span>(person)</span><br></pre></td></tr></table></div></figure>


        <h3 id="15-toRaw与markRaw">
          <a href="#15-toRaw与markRaw" class="heading-link"><i class="fas fa-link"></i></a><a href="#15-toRaw与markRaw" class="headerlink" title="15. toRaw与markRaw"></a>15. toRaw与markRaw</h3>
      <ul>
<li><p>toRaw：</p>
<ul>
<li><p>作用：将一个由<code>reactive</code>生成的响应式对象转为普通对象(ref类型不生效)</p>
</li>
<li><p>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">   <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">   <span class="attr">job</span>:&#123;</span><br><span class="line">       <span class="attr">j1</span>:&#123;</span><br><span class="line">           <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">function</span> <span class="title function_">showRawPerson</span>(<span class="params"></span>)&#123;</span><br><span class="line">		person = <span class="title function_">toRaw</span>(person)</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">info</span>(person)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></div></figure>

<ul>
<li><p>markRaw</p>
<p>  由于reactive生成的对象，对其进行增加删除属性等等都会被监测到，并使其成为响应式的。</p>
<ul>
<li><p>作用：标记一个对象，使其永远不会再成为响应式对象</p>
</li>
<li><p>应用场景：</p>
<ol>
<li><p>有些只不应被设置为响应式的，例如复杂的第三方类库等</p>
</li>
<li><p>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能</p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click = <span class="string">&quot;AddCarInfo&quot;</span>&gt;添加车信息&lt;/button&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;person.car.cname+=&#x27;!&#x27;&quot;</span>&gt;</span>修改车名称<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span> = <span class="string">&quot;person.car.cprice++&quot;</span>&gt;</span>增加车价格<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">reactive</span>(&#123;</span><br><span class="line">   <span class="attr">name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">   <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">   <span class="attr">job</span>:&#123;</span><br><span class="line">       <span class="attr">j1</span>:&#123;</span><br><span class="line">           <span class="attr">salary</span>:<span class="number">20</span></span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">AddCarInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">   person.<span class="property">car</span> = <span class="title function_">markRaw</span>(&#123;</span><br><span class="line">       <span class="attr">cname</span>:<span class="string">&quot;奥迪&quot;</span>,</span><br><span class="line">       <span class="attr">cprice</span>:<span class="string">&quot;30&quot;</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(person)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>如此一来添加的车属性就不会成为响应式的数据，对车信息作出修改页面也不会发生拜年话</p>

        <h3 id="16-customRef">
          <a href="#16-customRef" class="heading-link"><i class="fas fa-link"></i></a><a href="#16-customRef" class="headerlink" title="16. customRef"></a>16. customRef</h3>
      <p><strong>作用： 创建一个自定义的ref，并对其依赖项跟踪和更新触发进行显示控制</strong></p>
<ul>
<li>实现防抖效果</li>
</ul>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span> = <span class="string">&quot;keyWord&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;keyWord&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;ref,customRef&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">setup</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//自定义一个ref--myRef</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">function</span> <span class="title function_">myRef</span>(<span class="params">value,delay</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="title function_">customRef</span>(<span class="function">(<span class="params">track,trigger</span>)=&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> timer</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="title function_">get</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`有人从myRef这个容器中读取数据了，返回<span class="subst">$&#123;value&#125;</span>`</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">track</span>() <span class="comment">//通知Vue追踪value的变化(提前和get商量一下，让他认为这个value是有用的，可以变化的)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> value</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;,<span class="title function_">set</span>(<span class="params">newValue</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`有人把myRef这个容器中数据改了：<span class="subst">$&#123;newValue&#125;</span>`</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            value = newValue</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="built_in">clearTimeout</span>(timer)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">               <span class="title function_">trigger</span>() <span class="comment">//通知Vue重新解析模板</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;, delay);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// let keyWord = ref(&quot;hello&quot;) //使用Vue提供的ref</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">let</span> keyWord = <span class="title function_">myRef</span>(<span class="string">&quot;hello&quot;</span>,<span class="number">1000</span>)  <span class="comment">//使用程序员自定义的ref</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;keyWord&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></div></figure>

<p>下面的内容延迟显示，如果连续快速点击键盘输入数据，定时器来不及执行（一直开启关闭）里面的内容，那么在最后一次(间隔超过一秒)输入的时候内容更新</p>

        <h3 id="17-provide-提供-与inject-注入">
          <a href="#17-provide-提供-与inject-注入" class="heading-link"><i class="fas fa-link"></i></a><a href="#17-provide-提供-与inject-注入" class="headerlink" title="17. provide(提供)与inject(注入)"></a>17. provide(提供)与inject(注入)</h3>
      <ul>
<li><p>作用：实现祖与后代组件间通信</p>
</li>
<li><p>套路：父组件有一个<code>provide</code>选项来提供数据，后代组件有一个<code>inject</code>选项来开始使用这些数据</p>
</li>
<li><p>写法：</p>
</li>
</ul>
<ol>
<li>祖组件中：</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&quot;奔驰&quot;</span>,<span class="attr">price</span>:<span class="string">&quot;40W&quot;</span>&#125;)</span><br><span class="line">	<span class="title function_">provice</span>(<span class="string">&quot;car&quot;</span>,car)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>孙组件中：</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props,context</span>)&#123;</span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">	<span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&quot;car&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> &#123;car&#125;</span><br><span class="line"></span><br><span class="line">	...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="18-响应式数据的判断">
          <a href="#18-响应式数据的判断" class="heading-link"><i class="fas fa-link"></i></a><a href="#18-响应式数据的判断" class="headerlink" title="18. 响应式数据的判断"></a>18. 响应式数据的判断</h3>
      <ul>
<li><p>isRef：检查一个值是否为一个ref对象</p>
</li>
<li><p>isReactive：检查一个对象是否是有Reactive创建的响应式代理</p>
</li>
<li><p>isReadonly：检查一个对象是否是由readonly创建的只读代理</p>
</li>
<li><p>isProxy：检查一个对象是否是由reactive或者readonly方法创建的代理。因为这两个方法生成的内部数据都是Proxy类型</p>
</li>
</ul>

        <h2 id="Composition-API的优势">
          <a href="#Composition-API的优势" class="heading-link"><i class="fas fa-link"></i></a><a href="#Composition-API的优势" class="headerlink" title="Composition API的优势"></a><font color="green">Composition API的优势</font></h2>
      <ol>
<li><p>Options API存在的问题</p>
<p> 使用传统OptionsAPI 中，新增或者修改一个需求，就需要分别在data、methods。computed里修改</p>
</li>
<li><p>Composition API的优势</p>
</li>
</ol>
<p>我们可以更加优雅的组织我们的代码、函数，让相关功能的代码更加有序的组织在一起</p>

        <h2 id="新的组件">
          <a href="#新的组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#新的组件" class="headerlink" title="新的组件"></a><font color="green">新的组件</font></h2>
      
        <h3 id="1-Fragment（片段-碎片）">
          <a href="#1-Fragment（片段-碎片）" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-Fragment（片段-碎片）" class="headerlink" title="1. Fragment（片段 碎片）"></a>1. Fragment（片段 碎片）</h3>
      <ul>
<li><p>在Vue2中：组件必须有一个根标签</p>
</li>
<li><p>在Vue3中：组件可以没有根标签，内部会将多个标签包含在一个Fragment虚拟元素中</p>
</li>
<li><p>好处：减少标签层级、减小内存占用</p>
</li>
</ul>

        <h3 id="2-Teleport-传送-瞬间移动">
          <a href="#2-Teleport-传送-瞬间移动" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-Teleport-传送-瞬间移动" class="headerlink" title="2.Teleport(传送 瞬间移动)"></a>2.Teleport(传送 瞬间移动)</h3>
      <p>是一种能够将我们的组件html结构移动到指定位置的技术</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;teleport to = <span class="string">&quot;移动位置&quot;</span>&gt;</span><br><span class="line">	<span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">h3</span>&gt;</span>我是一个弹窗<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">button</span>&gt;</span>关闭弹窗<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/teleport&gt;</span><br></pre></td></tr></table></div></figure>

<p><code>移动位置</code>内容可以是元素，如<code>body,html</code>，也可以是选择器，如：<code>#app,#root</code></p>
<p>在dom上将该teleport包裹的元素内容移动到指定位置</p>

        <h3 id="3-Suspense-悬念-悬疑">
          <a href="#3-Suspense-悬念-悬疑" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-Suspense-悬念-悬疑" class="headerlink" title="3.Suspense(悬念  悬疑)"></a>3.Suspense(悬念  悬疑)</h3>
      <ul>
<li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p>
</li>
<li><p>使用步骤：</p>
</li>
</ul>
<ol>
<li>异步引入组件</li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ref,customRef,defineAsyncComponent&#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="comment">// import Demo from &quot;./components/Demo.vue&quot;	//静态引入，等引入完成后父页面才渲染</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Demo</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="title function_">import</span>(<span class="string">&#x27;./components/Demo&#x27;</span>))	<span class="comment">//动态(异步)引入，无需等待组件引入完成，父组件可以先在页面渲染</span></span><br></pre></td></tr></table></div></figure>

<ol start="2">
<li>使用<code>Suspense</code>包裹组件，并配置好<code>default</code>和<code>fallback</code></li>
</ol>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Suspense</span>&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">Demo</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:fallback</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    加载中...</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Suspense</span>&gt;</span><br></pre></td></tr></table></div></figure>


        <h3 id="4-其他">
          <a href="#4-其他" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-其他" class="headerlink" title="4. 其他"></a>4. 其他</h3>
      <p><img src="/2022/04/10/web-vue01/VUE3.png"></p>
<ul>
<li><p>data选项应始终被声明为一个函数</p>
</li>
<li><p>过度类名的更改</p>
</li>
</ul>
<p><strong>Vue2.x写法</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">v</span>-enter,.<span class="property">v</span>-leave-to&#123;</span><br><span class="line">	<span class="attr">opacity</span>:<span class="number">0</span>;</span><br><span class="line">&#125;,</span><br><span class="line">.<span class="property">v</span>-leave,.<span class="property">v</span>-enter-to&#123;</span><br><span class="line">	<span class="attr">opacity</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>Vue 3写法</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">v</span>-enter-<span class="keyword">from</span>,.<span class="property">v</span>-leave-to&#123;</span><br><span class="line">	<span class="attr">opacity</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.<span class="property">v</span>-leave-<span class="keyword">from</span>,.<span class="property">v</span>-enter-to&#123;</span><br><span class="line">	<span class="attr">opacity</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<ul>
<li><p>移除keyCode作为v-on的修饰符，同时也不再支持<code>config.keyCodes</code></p>
</li>
<li><p>移除<code>v-on.native</code>修饰符（v-on.native：声明是原生事件并不是自定义事件）</p>
</li>
</ul>
<p><strong>父组件中绑定事件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component </span><br><span class="line">v-<span class="attr">on</span>:close=<span class="string">&quot;handleComponentEvent&quot;</span> </span><br><span class="line">v-<span class="attr">on</span>:click=<span class="string">&quot;handleNativeClickEvent&quot;</span></span><br><span class="line">/&gt;</span><br></pre></td></tr></table></div></figure>

<p><strong>子组件中声明自定义事件</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	<span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">		<span class="attr">emits</span>:[<span class="string">&#x27;close&#x27;</span>]</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></div></figure>

<p>通过声明项指定自定义事件</p>
<ul>
<li><p>移除过滤器(filter)</p>
<p>  过滤器虽然看起来很方便，但它需要一个自定义语法，打破大括号内表达式“只是Javascript”的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器</p>
</li>
</ul>
</school></div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">Author: </span><span class="copyright-author__value"><a href="https://planeswalker1205.github.io">ashen</a></span></div><div class="copyright-link"><span class="copyright-link__name">Link: </span><span class="copyright-link__value"><a href="https://planeswalker1205.github.io/2022/04/10/web-vue01/">https://planeswalker1205.github.io/2022/04/10/web-vue01/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">Copyright: </span><span class="copyright-notice__value">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> unless stating additionally</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://planeswalker1205.github.io/tags/web%E5%AD%A6%E4%B9%A0/">web学习</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://planeswalker1205.github.io/tags/JS/">JS</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://planeswalker1205.github.io/tags/vscode/">vscode</a></span><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://planeswalker1205.github.io/tags/vue/">vue</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2022/05/03/%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AEgithub/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">解决无法访问github</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2022/02/25/web-nodeJS01/"><span class="paginator-prev__text">web-nodeJS</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#VUE%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">
          VUE基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.</span> <span class="toc-text">
          基础案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9D%E8%AF%86vue"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          1. 初识vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          2. 模板语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-MVVM%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.1.3.</span> <span class="toc-text">
          3.MVVM模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">1.1.4.</span> <span class="toc-text">
          4. 数据代理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Object-defineProperty%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">
          4.1 Object.defineProperty方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">1.1.4.2.</span> <span class="toc-text">
          4.2 数据代理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3vue%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">1.1.4.3.</span> <span class="toc-text">
          4.3vue的数据代理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">1.1.5.</span> <span class="toc-text">
          5.事件处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.1.6.</span> <span class="toc-text">
          6.事件修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.1.7.</span> <span class="toc-text">
          7.键盘事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%88computed%EF%BC%89"><span class="toc-number">1.1.8.</span> <span class="toc-text">
          8.计算属性（computed）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E7%9B%91%E8%A7%86%E5%B1%9E%E6%80%A7-watch"><span class="toc-number">1.1.9.</span> <span class="toc-text">
          9. 监视属性(watch)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%A0%B7%E5%BC%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.10.</span> <span class="toc-text">
          10. 样式操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.11.</span> <span class="toc-text">
          11. 条件渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">1.1.12.</span> <span class="toc-text">
          12.列表渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E5%88%97%E8%A1%A8%E8%BF%87%E6%BB%A4-amp-%E6%8E%92%E5%BA%8F"><span class="toc-number">1.1.13.</span> <span class="toc-text">
          13.列表过滤&amp;排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86"><span class="toc-number">1.1.14.</span> <span class="toc-text">
          14. 表单数据收集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">1.1.15.</span> <span class="toc-text">
          15. 过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E5%85%B6%E4%BB%96%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.16.</span> <span class="toc-text">
          16. 其他内置指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.17.</span> <span class="toc-text">
          17. 自定义指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.2.</span> <span class="toc-text">
          生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-mounted"><span class="toc-number">1.2.1.</span> <span class="toc-text">
          1.mounted</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B8%B8%E7%94%A8%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">1.2.2.</span> <span class="toc-text">
          2. 常用的生命周期钩子</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text">
          组件化编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%E7%BB%84%E4%BB%B6"><span class="toc-number">2.1.</span> <span class="toc-text">
          理解组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#VueComponent%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">
          VueComponent构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%87%8D%E8%A6%81%E7%9A%84%E5%86%85%E7%BD%AE%E9%97%9C%E4%BF%82%EF%BC%9A"><span class="toc-number">2.2.1.</span> <span class="toc-text">
          1. 重要的内置關係：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">2.3.</span> <span class="toc-text">
          单文件组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAVue%E8%84%9A%E6%89%8B%E6%9E%B6"><span class="toc-number">2.3.1.</span> <span class="toc-text">
          1.创建Vue脚手架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B3%E4%BA%8E%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84Vue%EF%BC%9A"><span class="toc-number">2.3.2.</span> <span class="toc-text">
          2.关于不同版本的Vue：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE"><span class="toc-number">2.3.3.</span> <span class="toc-text">
          3.修改默认配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-ref"><span class="toc-number">2.3.4.</span> <span class="toc-text">
          4.ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-props-%E5%B1%9E%E6%80%A7-%E9%85%8D%E7%BD%AE"><span class="toc-number">2.3.5.</span> <span class="toc-text">
          5. props(属性)配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-mixin%E6%B7%B7%E5%85%A5"><span class="toc-number">2.3.6.</span> <span class="toc-text">
          6.mixin混入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E6%8F%92%E4%BB%B6"><span class="toc-number">2.3.7.</span> <span class="toc-text">
          7.插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-scoped%E6%A0%B7%E5%BC%8F"><span class="toc-number">2.3.8.</span> <span class="toc-text">
          8. scoped样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A0%81"><span class="toc-number">2.3.9.</span> <span class="toc-text">
          9.组件化编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8"><span class="toc-number">2.3.10.</span> <span class="toc-text">
          10 浏览器本地存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E7%BB%84%E4%BB%B6%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.3.11.</span> <span class="toc-text">
          9. 组件自定义事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%EF%BC%88GlobalEventBus%EF%BC%89"><span class="toc-number">2.3.12.</span> <span class="toc-text">
          10全局事件总线（GlobalEventBus）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E6%B6%88%E6%81%AF%E8%A8%82%E9%96%B2%E8%88%87%E7%99%BC%E4%BD%88"><span class="toc-number">2.3.13.</span> <span class="toc-text">
          11.消息訂閲與發佈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-nextTick"><span class="toc-number">2.3.14.</span> <span class="toc-text">
          12.$nextTick</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#VUE%E5%8A%A8%E7%94%BB"><span class="toc-number">3.</span> <span class="toc-text">
          VUE动画</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C"><span class="toc-number">3.1.</span> <span class="toc-text">
          动画和过渡效果</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%E5%8A%A8%E7%94%BB"><span class="toc-number">3.1.1.</span> <span class="toc-text">
          1. 使用动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E8%BF%87%E6%B8%A1"><span class="toc-number">3.1.2.</span> <span class="toc-text">
          2.使用过渡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93"><span class="toc-number">3.1.3.</span> <span class="toc-text">
          3. 第三方库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vue%E4%B8%AD%E7%9A%84ajax"><span class="toc-number">4.</span> <span class="toc-text">
          vue中的ajax</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-number">4.1.</span> <span class="toc-text">
          方式一</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-number">4.2.</span> <span class="toc-text">
          方式二</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E6%A7%BD"><span class="toc-number">4.3.</span> <span class="toc-text">
          插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD"><span class="toc-number">4.3.1.</span> <span class="toc-text">
          1. 默认插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-number">4.3.2.</span> <span class="toc-text">
          2. 具名插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">4.3.3.</span> <span class="toc-text">
          3. 作用域插槽</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#VUEX"><span class="toc-number">5.</span> <span class="toc-text">
          VUEX</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">5.1.</span> <span class="toc-text">
          是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8"><span class="toc-number">5.2.</span> <span class="toc-text">
          什么时候使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAvuex%E7%8E%AF%E5%A2%83"><span class="toc-number">5.3.</span> <span class="toc-text">
          搭建vuex环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.</span> <span class="toc-text">
          基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#getters%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.5.</span> <span class="toc-text">
          getters的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E4%B8%AAmap%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.6.</span> <span class="toc-text">
          四个map方法的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-mapState%E6%96%B9%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%B8%AE%E5%8A%A9%E6%88%91%E4%BB%AC%E6%98%A0%E5%B0%84state%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%BA%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">5.6.1.</span> <span class="toc-text">
          1.mapState方法：用于帮助我们映射state中的数据为计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-mapGetters%E6%96%B9%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%B8%AE%E5%8A%A9%E6%88%91%E4%BB%AC%E6%98%A0%E5%B0%84getters%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E4%B8%BA%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">5.6.2.</span> <span class="toc-text">
          2.mapGetters方法：用于帮助我们映射getters中的数据为计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-mapActions%E6%96%B9%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%B8%AE%E5%8A%A9%E6%88%91%E4%BB%AC%E7%94%9F%E6%88%90%E4%B8%8Eactions%E5%AF%B9%E8%AF%9D%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%8D%B3%E5%8C%85%E5%90%AB-store-dispatch-xxx-%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">5.6.3.</span> <span class="toc-text">
          3. mapActions方法：用于帮助我们生成与actions对话的方法，即包含$store.dispatch(xxx)的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-mapMutations%E6%96%B9%E6%B3%95%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%B8%AE%E5%8A%A9%E6%88%91%E4%BB%AC%E7%94%9F%E4%BA%A7%E4%B8%8Emutations%E5%AF%B9%E8%AF%9D%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E5%8D%B3%E5%8C%85%E5%90%AB-store-commit-xxx-%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">5.6.4.</span> <span class="toc-text">
          4. mapMutations方法：用于帮助我们生产与mutations对话的方法，即包含$store.commit(xxx)的函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">5.7.</span> <span class="toc-text">
          模块化+命名空间</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">6.</span> <span class="toc-text">
          路由</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-router"><span class="toc-number">6.1.</span> <span class="toc-text">
          vue-router</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SPA"><span class="toc-number">6.1.1.</span> <span class="toc-text">
          1. SPA</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B7%AF%E7%94%B1-vue-router"><span class="toc-number">6.1.2.</span> <span class="toc-text">
          2. 路由(vue-router)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1-%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">6.1.3.</span> <span class="toc-text">
          2. 嵌套路由(多级路由)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%B7%AF%E7%94%B1%E7%9A%84query%E5%8F%83%E6%95%B8"><span class="toc-number">6.1.4.</span> <span class="toc-text">
          3. 路由的query參數</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-number">6.1.5.</span> <span class="toc-text">
          4. 命名路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-params%E5%8F%82%E6%95%B0"><span class="toc-number">6.1.6.</span> <span class="toc-text">
          5. params参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E8%B7%AF%E7%94%B1%E7%9A%84props%E9%85%8D%E7%BD%AE"><span class="toc-number">6.1.7.</span> <span class="toc-text">
          6. 路由的props配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-lt-router-link-gt-%E7%9A%84replace%E5%B1%9E%E6%80%A7"><span class="toc-number">6.1.8.</span> <span class="toc-text">
          7. &lt;router-link&gt;的replace属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">6.1.9.</span> <span class="toc-text">
          8.编程式路由导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">6.1.10.</span> <span class="toc-text">
          9.缓存路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E4%B8%A4%E4%B8%AA%E6%96%B0%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">6.1.11.</span> <span class="toc-text">
          10. 两个新的生命周期钩子</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">6.2.</span> <span class="toc-text">
          路由守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%A8%E5%B1%80%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">6.2.1.</span> <span class="toc-text">
          1. 全局路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%8B%AC%E4%BA%AB%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">6.2.2.</span> <span class="toc-text">
          2. 独享路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BB%84%E4%BB%B6%E5%86%85%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">6.2.3.</span> <span class="toc-text">
          3. 组件内路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.2.4.</span> <span class="toc-text">
          4. 路由器的两种工作模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-UI%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">7.</span> <span class="toc-text">
          Vue UI组件库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%B8%E7%94%A8UI%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">7.1.</span> <span class="toc-text">
          移动端常用UI组件库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PC%E7%AB%AF%E5%B8%B8%E7%94%A8UI%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-number">7.2.</span> <span class="toc-text">
          PC端常用UI组件库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue3"><span class="toc-number">8.</span> <span class="toc-text">
          Vue3</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%B5%E5%BB%BA%E5%B7%A5%E7%A8%8B"><span class="toc-number">8.1.</span> <span class="toc-text">
          創建工程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8vue-cli%E5%89%B5%E5%BB%BA%E5%B7%A5%E7%A8%8B"><span class="toc-number">8.1.1.</span> <span class="toc-text">
          1. 使用vue-cli創建工程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8vite%E5%88%9B%E5%BB%BA"><span class="toc-number">8.1.2.</span> <span class="toc-text">
          2. 使用vite创建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8Composition-API"><span class="toc-number">8.2.</span> <span class="toc-text">
          常用Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-setup"><span class="toc-number">8.2.1.</span> <span class="toc-text">
          1. setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-ref%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.2.</span> <span class="toc-text">
          2. ref函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reactive%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.3.</span> <span class="toc-text">
          reactive函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Vue3%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-number">8.2.4.</span> <span class="toc-text">
          3. Vue3响应式原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-reactive%E5%AF%B9%E6%AF%94ref"><span class="toc-number">8.2.5.</span> <span class="toc-text">
          4. reactive对比ref</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-setup%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">8.2.6.</span> <span class="toc-text">
          5. setup的两个注意点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">8.2.7.</span> <span class="toc-text">
          6. 计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Watch%E7%9B%91%E8%A7%86"><span class="toc-number">8.2.8.</span> <span class="toc-text">
          7. Watch监视</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-watch%E6%97%B6value%E9%97%AE%E9%A2%98"><span class="toc-number">8.2.9.</span> <span class="toc-text">
          8. watch时value问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-watchEffect%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.10.</span> <span class="toc-text">
          9. watchEffect函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-Vue3-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">8.2.11.</span> <span class="toc-text">
          10. Vue3 生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E8%87%AA%E5%AE%9A%E4%B9%89hook%E5%87%BD%E6%95%B0"><span class="toc-number">8.2.12.</span> <span class="toc-text">
          11. 自定义hook函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-toRef"><span class="toc-number">8.2.13.</span> <span class="toc-text">
          12. toRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-shallowReactive%E5%92%8CshallowRef"><span class="toc-number">8.2.14.</span> <span class="toc-text">
          13. shallowReactive和shallowRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-readonly%E5%92%8CshallowReadonly"><span class="toc-number">8.2.15.</span> <span class="toc-text">
          14. readonly和shallowReadonly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-toRaw%E4%B8%8EmarkRaw"><span class="toc-number">8.2.16.</span> <span class="toc-text">
          15. toRaw与markRaw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-customRef"><span class="toc-number">8.2.17.</span> <span class="toc-text">
          16. customRef</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-provide-%E6%8F%90%E4%BE%9B-%E4%B8%8Einject-%E6%B3%A8%E5%85%A5"><span class="toc-number">8.2.18.</span> <span class="toc-text">
          17. provide(提供)与inject(注入)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">8.2.19.</span> <span class="toc-text">
          18. 响应式数据的判断</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Composition-API%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">8.3.</span> <span class="toc-text">
          Composition API的优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-number">8.4.</span> <span class="toc-text">
          新的组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Fragment%EF%BC%88%E7%89%87%E6%AE%B5-%E7%A2%8E%E7%89%87%EF%BC%89"><span class="toc-number">8.4.1.</span> <span class="toc-text">
          1. Fragment（片段 碎片）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Teleport-%E4%BC%A0%E9%80%81-%E7%9E%AC%E9%97%B4%E7%A7%BB%E5%8A%A8"><span class="toc-number">8.4.2.</span> <span class="toc-text">
          2.Teleport(传送 瞬间移动)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Suspense-%E6%82%AC%E5%BF%B5-%E6%82%AC%E7%96%91"><span class="toc-number">8.4.3.</span> <span class="toc-text">
          3.Suspense(悬念  悬疑)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%B6%E4%BB%96"><span class="toc-number">8.4.4.</span> <span class="toc-text">
          4. 其他</span></a></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/stun-logo.svg" alt="avatar"></div><p class="sidebar-ov-author__text">hello world</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">46</div><div class="sidebar-ov-state-item__name">Archives</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">0</div><div class="sidebar-ov-state-item__name">Categories</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">68</div><div class="sidebar-ov-state-item__name">Tags</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2022</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>ashen</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v6.1.0</span><span class="footer__devider">|</span><span>Theme - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>